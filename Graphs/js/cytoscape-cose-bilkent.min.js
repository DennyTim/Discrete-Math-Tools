(function(b){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=b()}else{if(typeof define==="function"&&define.amd){define([],b)}else{var a;if(typeof window!=="undefined"){a=window}else{if(typeof global!=="undefined"){a=global}else{if(typeof self!=="undefined"){a=self}else{a=this}}}a.cytoscapeCoseBilkent=b()}}})(function(){var d,b,a;return(function c(f,k,h){function g(q,n){if(!k[q]){if(!f[q]){var m=typeof require=="function"&&require;if(!n&&m){return m(q,!0)}if(e){return e(q,!0)}var p=new Error("Cannot find module '"+q+"'");throw p.code="MODULE_NOT_FOUND",p}var i=k[q]={exports:{}};f[q][0].call(i.exports,function(l){var o=f[q][1][l];return g(o?o:l)},i,i.exports,c,f,k,h)}return k[q].exports}var e=typeof require=="function"&&require;for(var j=0;j<h.length;j++){g(h[j])}return g})({1:[function(g,h,f){var i=g("./FDLayoutConstants");function e(){}for(var j in i){e[j]=i[j]}e.DEFAULT_USE_MULTI_LEVEL_SCALING=false;e.DEFAULT_RADIAL_SEPARATION=i.DEFAULT_EDGE_LENGTH;e.DEFAULT_COMPONENT_SEPERATION=60;e.TILE=true;e.TILING_PADDING_VERTICAL=10;e.TILING_PADDING_HORIZONTAL=10;h.exports=e},{"./FDLayoutConstants":10}],2:[function(f,g,e){var j=f("./FDLayoutEdge");function h(l,m,k){j.call(this,l,m,k)}h.prototype=Object.create(j.prototype);for(var i in j){h[i]=j[i]}g.exports=h},{"./FDLayoutEdge":11}],3:[function(g,h,e){var i=g("./LGraph");function f(l,k,m){i.call(this,l,k,m)}f.prototype=Object.create(i.prototype);for(var j in i){f[j]=i[j]}h.exports=f},{"./LGraph":19}],4:[function(h,i,e){var g=h("./LGraphManager");function f(k){g.call(this,k)}f.prototype=Object.create(g.prototype);for(var j in g){f[j]=g[j]}i.exports=f},{"./LGraphManager":20}],5:[function(j,e,x){var k=j("./FDLayout");var n=j("./CoSEGraphManager");var m=j("./CoSEGraph");var g=j("./CoSENode");var v=j("./CoSEEdge");var l=j("./CoSEConstants");var p=j("./FDLayoutConstants");var s=j("./LayoutConstants");var w=j("./Point");var t=j("./PointD");var u=j("./Layout");var h=j("./Integer");var i=j("./IGeometry");var o=j("./LGraph");var r=j("./Transform");function q(){k.call(this);this.toBeTiled={}}q.prototype=Object.create(k.prototype);for(var f in k){q[f]=k[f]}q.prototype.newGraphManager=function(){var y=new n(this);this.graphManager=y;return y};q.prototype.newGraph=function(y){return new m(null,this.graphManager,y)};q.prototype.newNode=function(y){return new g(this.graphManager,y)};q.prototype.newEdge=function(y){return new v(null,null,y)};q.prototype.initParameters=function(){k.prototype.initParameters.call(this,arguments);if(!this.isSubLayout){if(l.DEFAULT_EDGE_LENGTH<10){this.idealEdgeLength=10}else{this.idealEdgeLength=l.DEFAULT_EDGE_LENGTH}this.useSmartIdealEdgeLengthCalculation=l.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION;this.springConstant=p.DEFAULT_SPRING_STRENGTH;this.repulsionConstant=p.DEFAULT_REPULSION_STRENGTH;this.gravityConstant=p.DEFAULT_GRAVITY_STRENGTH;this.compoundGravityConstant=p.DEFAULT_COMPOUND_GRAVITY_STRENGTH;this.gravityRangeFactor=p.DEFAULT_GRAVITY_RANGE_FACTOR;this.compoundGravityRangeFactor=p.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR}};q.prototype.layout=function(){var y=s.DEFAULT_CREATE_BENDS_AS_NEEDED;if(y){this.createBendpoints();this.graphManager.resetAllEdges()}this.level=0;return this.classicLayout()};q.prototype.classicLayout=function(){this.calculateNodesToApplyGravitationTo();this.graphManager.calcLowestCommonAncestors();this.graphManager.calcInclusionTreeDepths();this.graphManager.getRoot().calcEstimatedSize();this.calcIdealEdgeLengths();if(!this.incremental){var y=this.getFlatForest();if(y.length>0){this.positionNodesRadially(y)}else{this.positionNodesRandomly()}}this.initSpringEmbedder();this.runSpringEmbedder();return true};q.prototype.tick=function(){this.totalIterations++;if(this.totalIterations===this.maxIterations){return true}if(this.totalIterations%p.CONVERGENCE_CHECK_PERIOD==0){if(this.isConverged()){return true}this.coolingFactor=this.initialCoolingFactor*((this.maxIterations-this.totalIterations)/this.maxIterations);this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}this.totalDisplacement=0;this.graphManager.updateBounds();this.calcSpringForces();this.calcRepulsionForces();this.calcGravitationalForces();this.moveNodes();this.animate();return false};q.prototype.getPositionsData=function(){var A=this.graphManager.getAllNodes();var z={};for(var y=0;y<A.length;y++){var B=A[y].rect;var C=A[y].id;z[C]={id:C,x:B.getCenterX(),y:B.getCenterY(),w:B.width,h:B.height}}return z};q.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25;this.animationPeriod=this.initialAnimationPeriod;var y=false;if(p.ANIMATE==="during"){this.emit("layoutstarted")}else{while(!y){y=this.tick()}this.graphManager.updateBounds()}};q.prototype.calculateNodesToApplyGravitationTo=function(){var z=[];var C;var y=this.graphManager.getGraphs();var B=y.length;var A;for(A=0;A<B;A++){C=y[A];C.updateConnected();if(!C.isConnected){z=z.concat(C.getNodes())}}this.graphManager.setAllNodesToApplyGravitation(z)
};q.prototype.createBendpoints=function(){var B=[];B=B.concat(this.graphManager.getAllEdges());var E=new HashSet();var C;for(C=0;C<B.length;C++){var z=B[C];if(!E.contains(z)){var y=z.getSource();var D=z.getTarget();if(y==D){z.getBendpoints().push(new t());z.getBendpoints().push(new t());this.createDummyNodesForBendpoints(z);E.add(z)}else{var G=[];G=G.concat(y.getEdgeListToNode(D));G=G.concat(D.getEdgeListToNode(y));if(!E.contains(G[0])){if(G.length>1){var A;for(A=0;A<G.length;A++){var F=G[A];F.getBendpoints().push(new t());this.createDummyNodesForBendpoints(F)}}E.addAll(list)}}}if(E.size()==B.length){break}}};q.prototype.positionNodesRadially=function(C){var E=new w(0,0);var F=Math.ceil(Math.sqrt(C.length));var G=0;var y=0;var A=0;var D=new t(0,0);for(var B=0;B<C.length;B++){if(B%F==0){A=0;y=G;if(B!=0){y+=l.DEFAULT_COMPONENT_SEPERATION}G=0}var H=C[B];var z=u.findCenterOfTree(H);E.x=A;E.y=y;D=q.radialLayout(H,z,E);if(D.y>G){G=Math.floor(D.y)}A=Math.floor(D.x+l.DEFAULT_COMPONENT_SEPERATION)}this.transform(new t(s.WORLD_CENTER_X-D.x/2,s.WORLD_CENTER_Y-D.y/2))};q.radialLayout=function(G,z,C){var F=Math.max(this.maxDiagonalInTree(G),l.DEFAULT_RADIAL_SEPARATION);q.branchRadialLayout(z,null,0,359,0,F);var y=o.calculateBounds(G);var A=new r();A.setDeviceOrgX(y.getMinX());A.setDeviceOrgY(y.getMinY());A.setWorldOrgX(C.x);A.setWorldOrgY(C.y);for(var D=0;D<G.length;D++){var B=G[D];B.transform(A)}var E=new t(y.getMaxX(),y.getMaxY());return A.inverseTransformPoint(E)};q.branchRadialLayout=function(P,W,Q,O,F,E){var H=((O-Q)+1)/2;if(H<0){H+=180}var I=(H+Q)%360;var N=(I*i.TWO_PI)/360;var B=Math.cos(N);var T=F*Math.cos(N);var D=F*Math.sin(N);P.setCenter(T,D);var K=[];K=K.concat(P.getEdges());var S=K.length;if(W!=null){S--}var M=0;var y=K.length;var G;var C=P.getEdgesBetween(W);while(C.length>1){var U=C[0];C.splice(0,1);var J=K.indexOf(U);if(J>=0){K.splice(J,1)}y--;S--}if(W!=null){G=(K.indexOf(C[0])+1)%y}else{G=0}var L=Math.abs(O-Q)/S;for(var R=G;M!=S;R=(++R)%y){var V=K[R].getOtherEnd(P);if(V==W){continue}var A=(Q+M*L)%360;var z=(A+L)%360;q.branchRadialLayout(V,P,A,z,F+E,E);M++}};q.maxDiagonalInTree=function(y){var z=h.MIN_VALUE;for(var A=0;A<y.length;A++){var C=y[A];var B=C.getDiagonal();if(B>z){z=B}}return z};q.prototype.calcRepulsionRange=function(){return(2*(this.level+1)*this.idealEdgeLength)};q.prototype.groupZeroDegreeMembers=function(){var z=this;var B={};this.memberGroups={};this.idToDummyNode={};var y=[];var D=this.graphManager.getAllNodes();for(var A=0;A<D.length;A++){var E=D[A];var C=E.getParent();if(this.getNodeDegreeWithChildren(E)===0&&(C.id==undefined||!this.getToBeTiled(C))){y.push(E)}}for(var A=0;A<y.length;A++){var E=y[A];var F=E.getParent().id;if(typeof B[F]==="undefined"){B[F]=[]}B[F]=B[F].concat(E)}Object.keys(B).forEach(function(N){if(B[N].length>1){var G="DummyCompound_"+N;z.memberGroups[G]=B[N];var J=B[N][0].getParent();var H=new g(z.graphManager);H.id=G;H.paddingLeft=J.paddingLeft||0;H.paddingRight=J.paddingRight||0;H.paddingBottom=J.paddingBottom||0;H.paddingTop=J.paddingTop||0;z.idToDummyNode[G]=H;var M=z.getGraphManager().add(z.newGraph(),H);var L=J.getChild();L.add(H);for(var I=0;I<B[N].length;I++){var K=B[N][I];L.remove(K);M.add(K)}}})};q.prototype.clearCompounds=function(){var y={};var A={};this.performDFSOnCompounds();for(var z=0;z<this.compoundOrder.length;z++){A[this.compoundOrder[z].id]=this.compoundOrder[z];y[this.compoundOrder[z].id]=[].concat(this.compoundOrder[z].getChild().getNodes());this.graphManager.remove(this.compoundOrder[z].getChild());this.compoundOrder[z].child=null}this.graphManager.resetAllNodes();this.tileCompoundMembers(y,A)};q.prototype.clearZeroDegreeMembers=function(){var z=this;var y=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(B){var A=z.idToDummyNode[B];y[B]=z.tileNodes(z.memberGroups[B],A.paddingLeft+A.paddingRight);A.rect.width=y[B].width;A.rect.height=y[B].height})};q.prototype.repopulateCompounds=function(){for(var B=this.compoundOrder.length-1;B>=0;B--){var z=this.compoundOrder[B];var C=z.id;var A=z.paddingLeft;var y=z.paddingTop;this.adjustLocations(this.tiledMemberPack[C],z.rect.x,z.rect.y,A,y)}};q.prototype.repopulateZeroDegreeMembers=function(){var y=this;var z=this.tiledZeroDegreePack;Object.keys(z).forEach(function(D){var B=y.idToDummyNode[D];var C=B.paddingLeft;var A=B.paddingTop;y.adjustLocations(z[D],B.rect.x,B.rect.y,C,A)})};q.prototype.getToBeTiled=function(C){var D=C.id;if(this.toBeTiled[D]!=null){return this.toBeTiled[D]}var z=C.getChild();if(z==null){this.toBeTiled[D]=false;return false}var B=z.getNodes();for(var A=0;A<B.length;A++){var y=B[A];if(this.getNodeDegree(y)>0){this.toBeTiled[D]=false;return false}if(y.getChild()==null){this.toBeTiled[y.id]=false;continue}if(!this.getToBeTiled(y)){this.toBeTiled[D]=false;return false}}this.toBeTiled[D]=true;return true};q.prototype.getNodeDegree=function(B){var D=B.id;var y=B.getEdges();var C=0;for(var z=0;z<y.length;z++){var A=y[z];if(A.getSource().id!==A.getTarget().id){C=C+1
}}return C};q.prototype.getNodeDegreeWithChildren=function(A){var B=this.getNodeDegree(A);if(A.getChild()==null){return B}var z=A.getChild().getNodes();for(var y=0;y<z.length;y++){var C=z[y];B+=this.getNodeDegreeWithChildren(C)}return B};q.prototype.performDFSOnCompounds=function(){this.compoundOrder=[];this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())};q.prototype.fillCompexOrderByDFS=function(z){for(var y=0;y<z.length;y++){var A=z[y];if(A.getChild()!=null){this.fillCompexOrderByDFS(A.getChild().getNodes())}if(this.getToBeTiled(A)){this.compoundOrder.push(A)}}};q.prototype.adjustLocations=function(z,G,E,F,D){G+=F;E+=D;var A=G;for(var C=0;C<z.rows.length;C++){var J=z.rows[C];G=A;var I=0;for(var B=0;B<J.length;B++){var H=J[B];H.rect.x=G;H.rect.y=E;G+=H.rect.width+z.horizontalPadding;if(H.rect.height>I){I=H.rect.height}}E+=I+z.verticalPadding}};q.prototype.tileCompoundMembers=function(z,A){var y=this;this.tiledMemberPack=[];Object.keys(z).forEach(function(C){var B=A[C];y.tiledMemberPack[C]=y.tileNodes(z[C],B.paddingLeft+B.paddingRight);B.rect.width=y.tiledMemberPack[C].width+20;B.rect.height=y.tiledMemberPack[C].height+20})};q.prototype.tileNodes=function(B,D){var y=l.TILING_PADDING_VERTICAL;var E=l.TILING_PADDING_HORIZONTAL;var A={rows:[],rowWidth:[],rowHeight:[],width:20,height:20,verticalPadding:y,horizontalPadding:E};B.sort(function(G,F){if(G.rect.width*G.rect.height>F.rect.width*F.rect.height){return -1}if(G.rect.width*G.rect.height<F.rect.width*F.rect.height){return 1}return 0});for(var C=0;C<B.length;C++){var z=B[C];if(A.rows.length==0){this.insertNodeToRow(A,z,0,D)}else{if(this.canAddHorizontal(A,z.rect.width,z.rect.height)){this.insertNodeToRow(A,z,this.getShortestRowIndex(A),D)}else{this.insertNodeToRow(A,z,A.rows.length,D)}}this.shiftToLastRow(A)}return A};q.prototype.insertNodeToRow=function(z,B,D,y){var E=y;if(D==z.rows.length){var G=[];z.rows.push(G);z.rowWidth.push(E);z.rowHeight.push(0)}var F=z.rowWidth[D]+B.rect.width;if(z.rows[D].length>0){F+=z.horizontalPadding}z.rowWidth[D]=F;if(z.width<F){z.width=F}var C=B.rect.height;if(D>0){C+=z.verticalPadding}var A=0;if(C>z.rowHeight[D]){A=z.rowHeight[D];z.rowHeight[D]=C;A=z.rowHeight[D]-A}z.height+=A;z.rows[D].push(B)};q.prototype.getShortestRowIndex=function(y){var B=-1;var A=Number.MAX_VALUE;for(var z=0;z<y.rows.length;z++){if(y.rowWidth[z]<A){B=z;A=y.rowWidth[z]}}return B};q.prototype.getLongestRowIndex=function(z){var B=-1;var y=Number.MIN_VALUE;for(var A=0;A<z.rows.length;A++){if(z.rowWidth[A]>y){B=A;y=z.rowWidth[A]}}return B};q.prototype.canAddHorizontal=function(A,E,y){var C=this.getShortestRowIndex(A);if(C<0){return true}var D=A.rowWidth[C];if(D+A.horizontalPadding+E<=A.width){return true}var z=0;if(A.rowHeight[C]<y){if(C>0){z=y+A.verticalPadding-A.rowHeight[C]}}var F;if(A.width-D>=E+A.horizontalPadding){F=(A.height+z)/(D+E+A.horizontalPadding)}else{F=(A.height+z)/A.width}z=y+A.verticalPadding;var B;if(A.width<E){B=(A.height+z)/E}else{B=(A.height+z)/A.width}if(B<1){B=1/B}if(F<1){F=1/F}return F<B};q.prototype.shiftToLastRow=function(y){var z=this.getLongestRowIndex(y);var E=y.rowWidth.length-1;var H=y.rows[z];var A=H[H.length-1];var D=A.width+y.horizontalPadding;if(y.width-y.rowWidth[E]>D&&z!=E){H.splice(-1,1);y.rows[E].push(A);y.rowWidth[z]=y.rowWidth[z]-D;y.rowWidth[E]=y.rowWidth[E]+D;y.width=y.rowWidth[instance.getLongestRowIndex(y)];var F=Number.MIN_VALUE;for(var B=0;B<H.length;B++){if(H[B].height>F){F=H[B].height}}if(z>0){F+=y.verticalPadding}var C=y.rowHeight[z]+y.rowHeight[E];y.rowHeight[z]=F;if(y.rowHeight[E]<A.height+y.verticalPadding){y.rowHeight[E]=A.height+y.verticalPadding}var G=y.rowHeight[z]+y.rowHeight[E];y.height+=(G-C);this.shiftToLastRow(y)}};q.prototype.tilingPreLayout=function(){if(l.TILE){this.groupZeroDegreeMembers();this.clearCompounds();this.clearZeroDegreeMembers()}};q.prototype.tilingPostLayout=function(){if(l.TILE){this.repopulateZeroDegreeMembers();this.repopulateCompounds()}};e.exports=q},{"./CoSEConstants":1,"./CoSEEdge":2,"./CoSEGraph":3,"./CoSEGraphManager":4,"./CoSENode":6,"./FDLayout":9,"./FDLayoutConstants":10,"./IGeometry":15,"./Integer":17,"./LGraph":19,"./Layout":23,"./LayoutConstants":24,"./Point":25,"./PointD":26,"./Transform":29}],6:[function(g,h,f){var k=g("./FDLayoutNode");var e=g("./IMath");function i(n,o,l,m){k.call(this,n,o,l,m)}i.prototype=Object.create(k.prototype);for(var j in k){i[j]=k[j]}i.prototype.move=function(){var l=this.graphManager.getLayout();this.displacementX=l.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX);this.displacementY=l.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY);if(Math.abs(this.displacementX)>l.coolingFactor*l.maxNodeDisplacement){this.displacementX=l.coolingFactor*l.maxNodeDisplacement*e.sign(this.displacementX)}if(Math.abs(this.displacementY)>l.coolingFactor*l.maxNodeDisplacement){this.displacementY=l.coolingFactor*l.maxNodeDisplacement*e.sign(this.displacementY)}if(this.child==null){this.moveBy(this.displacementX,this.displacementY)
}else{if(this.child.getNodes().length==0){this.moveBy(this.displacementX,this.displacementY)}else{this.propogateDisplacementToChildren(this.displacementX,this.displacementY)}}l.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY);this.springForceX=0;this.springForceY=0;this.repulsionForceX=0;this.repulsionForceY=0;this.gravitationForceX=0;this.gravitationForceY=0;this.displacementX=0;this.displacementY=0};i.prototype.propogateDisplacementToChildren=function(m,l){var n=this.getChild().getNodes();var p;for(var o=0;o<n.length;o++){p=n[o];if(p.getChild()==null){p.moveBy(m,l);p.displacementX+=m;p.displacementY+=l}else{p.propogateDisplacementToChildren(m,l)}}};i.prototype.setPred1=function(l){this.pred1=l};i.prototype.getPred1=function(){return pred1};i.prototype.getPred2=function(){return pred2};i.prototype.setNext=function(l){this.next=l};i.prototype.getNext=function(){return next};i.prototype.setProcessed=function(l){this.processed=l};i.prototype.isProcessed=function(){return processed};h.exports=i},{"./FDLayoutNode":12,"./IMath":16}],7:[function(f,g,e){function h(j,i){this.width=0;this.height=0;if(j!==null&&i!==null){this.height=i;this.width=j}}h.prototype.getWidth=function(){return this.width};h.prototype.setWidth=function(i){this.width=i};h.prototype.getHeight=function(){return this.height};h.prototype.setHeight=function(i){this.height=i};g.exports=h},{}],8:[function(f,g,e){function h(){this.listeners=[]}var i=h.prototype;i.addListener=function(j,k){this.listeners.push({event:j,callback:k})};i.removeListener=function(m,n){for(var k=this.listeners.length;k>=0;k--){var j=this.listeners[k];if(j.event===m&&j.callback===n){this.listeners.splice(k,1)}}};i.emit=function(m,n){for(var k=0;k<this.listeners.length;k++){var j=this.listeners[k];if(m===j.event){j.callback(n)}}};g.exports=h},{}],9:[function(j,i,k){var l=j("./Layout");var g=j("./FDLayoutConstants");var e=j("./LayoutConstants");var h=j("./IGeometry");var m=j("./IMath");function n(){l.call(this);this.useSmartIdealEdgeLengthCalculation=g.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION;this.idealEdgeLength=g.DEFAULT_EDGE_LENGTH;this.springConstant=g.DEFAULT_SPRING_STRENGTH;this.repulsionConstant=g.DEFAULT_REPULSION_STRENGTH;this.gravityConstant=g.DEFAULT_GRAVITY_STRENGTH;this.compoundGravityConstant=g.DEFAULT_COMPOUND_GRAVITY_STRENGTH;this.gravityRangeFactor=g.DEFAULT_GRAVITY_RANGE_FACTOR;this.compoundGravityRangeFactor=g.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR;this.displacementThresholdPerNode=(3*g.DEFAULT_EDGE_LENGTH)/100;this.coolingFactor=g.DEFAULT_COOLING_FACTOR_INCREMENTAL;this.initialCoolingFactor=g.DEFAULT_COOLING_FACTOR_INCREMENTAL;this.totalDisplacement=0;this.oldTotalDisplacement=0;this.maxIterations=g.MAX_ITERATIONS}n.prototype=Object.create(l.prototype);for(var f in l){n[f]=l[f]}n.prototype.initParameters=function(){l.prototype.initParameters.call(this,arguments);if(this.layoutQuality==e.DRAFT_QUALITY){this.displacementThresholdPerNode+=0.3;this.maxIterations*=0.8}else{if(this.layoutQuality==e.PROOF_QUALITY){this.displacementThresholdPerNode-=0.3;this.maxIterations*=1.2}}this.totalIterations=0;this.notAnimatedIterations=0};n.prototype.calcIdealEdgeLengths=function(){var r;var p;var s;var t;var v;var u;var q=this.getGraphManager().getAllEdges();for(var o=0;o<q.length;o++){r=q[o];r.idealLength=this.idealEdgeLength;if(r.isInterGraph){s=r.getSource();t=r.getTarget();v=r.getSourceInLca().getEstimatedSize();u=r.getTargetInLca().getEstimatedSize();if(this.useSmartIdealEdgeLengthCalculation){r.idealLength+=v+u-2*e.SIMPLE_NODE_SIZE}p=r.getLca().getInclusionTreeDepth();r.idealLength+=g.DEFAULT_EDGE_LENGTH*g.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(s.getInclusionTreeDepth()+t.getInclusionTreeDepth()-2*p)}}};n.prototype.initSpringEmbedder=function(){if(this.incremental){this.maxNodeDisplacement=g.MAX_NODE_DISPLACEMENT_INCREMENTAL}else{this.coolingFactor=1;this.initialCoolingFactor=1;this.maxNodeDisplacement=g.MAX_NODE_DISPLACEMENT}this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations);this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length;this.repulsionRange=this.calcRepulsionRange()};n.prototype.calcSpringForces=function(){var o=this.getAllEdges();var q;for(var p=0;p<o.length;p++){q=o[p];this.calcSpringForce(q,q.idealLength)}};n.prototype.calcRepulsionForces=function(){var q,p;var s,r;var o=this.getAllNodes();for(q=0;q<o.length;q++){s=o[q];for(p=q+1;p<o.length;p++){r=o[p];if(s.getOwner()!=r.getOwner()){continue}this.calcRepulsionForce(s,r)}}};n.prototype.calcGravitationalForces=function(){var q;var o=this.getAllNodesToApplyGravitation();for(var p=0;p<o.length;p++){q=o[p];this.calcGravitationalForce(q)}};n.prototype.moveNodes=function(){var o=this.getAllNodes();var q;for(var p=0;p<o.length;p++){q=o[p];q.move()}};n.prototype.calcSpringForce=function(s,v){var q=s.getSource();var u=s.getTarget();var r;var t;var p;var o;if(this.uniformLeafNodeSizes&&q.getChild()==null&&u.getChild()==null){s.updateLengthSimple()
}else{s.updateLength();if(s.isOverlapingSourceAndTarget){return}}r=s.getLength();t=this.springConstant*(r-v);p=t*(s.lengthX/r);o=t*(s.lengthY/r);q.springForceX+=p;q.springForceY+=o;u.springForceX-=p;u.springForceY-=o};n.prototype.calcRepulsionForce=function(t,s){var q=t.getRect();var o=s.getRect();var y=new Array(2);var u=new Array(4);var A;var z;var r;var p;var x;var w;var v;if(q.intersects(o)){h.calcSeparationAmount(q,o,y,g.DEFAULT_EDGE_LENGTH/2);w=y[0];v=y[1]}else{if(this.uniformLeafNodeSizes&&t.getChild()==null&&s.getChild()==null){A=o.getCenterX()-q.getCenterX();z=o.getCenterY()-q.getCenterY()}else{h.getIntersection(q,o,u);A=u[2]-u[0];z=u[3]-u[1]}if(Math.abs(A)<g.MIN_REPULSION_DIST){A=m.sign(A)*g.MIN_REPULSION_DIST}if(Math.abs(z)<g.MIN_REPULSION_DIST){z=m.sign(z)*g.MIN_REPULSION_DIST}r=A*A+z*z;p=Math.sqrt(r);x=this.repulsionConstant/r;w=x*A/p;v=x*z/p}if((t.getChild()!=null&&s.getChild()==null)||(s.getChild()!=null&&t.getChild()==null)){if(s.getChild()==null){s.repulsionForceX+=w;s.repulsionForceY+=v}else{t.repulsionForceX-=w;t.repulsionForceY-=v}}else{t.repulsionForceX-=w;t.repulsionForceY-=v;s.repulsionForceX+=w;s.repulsionForceY+=v}};n.prototype.calcGravitationalForce=function(o){var v;var s;var p;var w;var u;var r;var q;var t;v=o.getOwner();s=(v.getRight()+v.getLeft())/2;p=(v.getTop()+v.getBottom())/2;w=o.getCenterX()-s;u=o.getCenterY()-p;r=Math.abs(w);q=Math.abs(u);if(o.getOwner()==this.graphManager.getRoot()){Math.floor(80);t=Math.floor(v.getEstimatedSize()*this.gravityRangeFactor);if(r>t||q>t){o.gravitationForceX=-this.gravityConstant*w;o.gravitationForceY=-this.gravityConstant*u}}else{t=Math.floor((v.getEstimatedSize()*this.compoundGravityRangeFactor));if(r>t||q>t){o.gravitationForceX=-this.gravityConstant*w*this.compoundGravityConstant;o.gravitationForceY=-this.gravityConstant*u*this.compoundGravityConstant}}};n.prototype.isConverged=function(){var o;var p=false;if(this.totalIterations>this.maxIterations/3){p=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2}o=this.totalDisplacement<this.totalDisplacementThreshold;this.oldTotalDisplacement=this.totalDisplacement;return o||p};n.prototype.animate=function(){if(this.animationDuringLayout&&!this.isSubLayout){if(this.notAnimatedIterations==this.animationPeriod){this.update();this.notAnimatedIterations=0}else{this.notAnimatedIterations++}}};n.prototype.calcRepulsionRange=function(){return 0};i.exports=n},{"./FDLayoutConstants":10,"./IGeometry":15,"./IMath":16,"./Layout":23,"./LayoutConstants":24}],10:[function(f,g,e){var j=f("./LayoutConstants");function h(){}for(var i in j){h[i]=j[i]}h.MAX_ITERATIONS=2500;h.DEFAULT_EDGE_LENGTH=50;h.DEFAULT_SPRING_STRENGTH=0.45;h.DEFAULT_REPULSION_STRENGTH=4500;h.DEFAULT_GRAVITY_STRENGTH=0.4;h.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1;h.DEFAULT_GRAVITY_RANGE_FACTOR=3.8;h.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5;h.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=true;h.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=true;h.DEFAULT_COOLING_FACTOR_INCREMENTAL=0.8;h.MAX_NODE_DISPLACEMENT_INCREMENTAL=100;h.MAX_NODE_DISPLACEMENT=h.MAX_NODE_DISPLACEMENT_INCREMENTAL*3;h.MIN_REPULSION_DIST=h.DEFAULT_EDGE_LENGTH/10;h.CONVERGENCE_CHECK_PERIOD=100;h.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=0.1;h.MIN_EDGE_LENGTH=1;h.GRID_CALCULATION_CHECK_PERIOD=10;g.exports=h},{"./LayoutConstants":24}],11:[function(f,g,e){var i=f("./LEdge");var h=f("./FDLayoutConstants");function k(m,n,l){i.call(this,m,n,l);this.idealLength=h.DEFAULT_EDGE_LENGTH}k.prototype=Object.create(i.prototype);for(var j in i){k[j]=i[j]}g.exports=k},{"./FDLayoutConstants":10,"./LEdge":18}],12:[function(f,g,e){var h=f("./LNode");function j(m,n,k,l){h.call(this,m,n,k,l);this.springForceX=0;this.springForceY=0;this.repulsionForceX=0;this.repulsionForceY=0;this.gravitationForceX=0;this.gravitationForceY=0;this.displacementX=0;this.displacementY=0;this.startX=0;this.finishX=0;this.startY=0;this.finishY=0;this.surrounding=[]}j.prototype=Object.create(h.prototype);for(var i in h){j[i]=h[i]}j.prototype.setGridCoordinates=function(l,n,k,m){this.startX=l;this.finishX=n;this.startY=k;this.finishY=m};g.exports=j},{"./LNode":22}],13:[function(f,g,e){var i=f("./UniqueIDGeneretor");function h(){this.map={};this.keys=[]}h.prototype.put=function(k,l){var j=i.createID(k);if(!this.contains(j)){this.map[j]=l;this.keys.push(k)}};h.prototype.contains=function(k){var j=i.createID(k);return this.map[k]!=null};h.prototype.get=function(k){var j=i.createID(k);return this.map[j]};h.prototype.keySet=function(){return this.keys};g.exports=h},{"./UniqueIDGeneretor":30}],14:[function(f,g,e){var h=f("./UniqueIDGeneretor");function i(){this.set={}}i.prototype.add=function(k){var j=h.createID(k);if(!this.contains(j)){this.set[j]=k}};i.prototype.remove=function(j){delete this.set[h.createID(j)]};i.prototype.clear=function(){this.set={}};i.prototype.contains=function(j){return this.set[h.createID(j)]==j};i.prototype.isEmpty=function(){return this.size()===0};i.prototype.size=function(){return Object.keys(this.set).length
};i.prototype.addAllTo=function(m){var l=Object.keys(this.set);var k=l.length;for(var j=0;j<k;j++){m.push(this.set[l[j]])}};i.prototype.size=function(){return Object.keys(this.set).length};i.prototype.addAll=function(m){var l=m.length;for(var k=0;k<l;k++){var j=m[k];this.add(j)}};g.exports=i},{"./UniqueIDGeneretor":30}],15:[function(f,g,e){function h(){}h.calcSeparationAmount=function(n,l,j,k){if(!n.intersects(l)){throw"assert failed"}var p=new Array(2);h.decideDirectionsForOverlappingNodes(n,l,p);j[0]=Math.min(n.getRight(),l.getRight())-Math.max(n.x,l.x);j[1]=Math.min(n.getBottom(),l.getBottom())-Math.max(n.y,l.y);if((n.getX()<=l.getX())&&(n.getRight()>=l.getRight())){j[0]+=Math.min((l.getX()-n.getX()),(n.getRight()-l.getRight()))}else{if((l.getX()<=n.getX())&&(l.getRight()>=n.getRight())){j[0]+=Math.min((n.getX()-l.getX()),(l.getRight()-n.getRight()))}}if((n.getY()<=l.getY())&&(n.getBottom()>=l.getBottom())){j[1]+=Math.min((l.getY()-n.getY()),(n.getBottom()-l.getBottom()))}else{if((l.getY()<=n.getY())&&(l.getBottom()>=n.getBottom())){j[1]+=Math.min((n.getY()-l.getY()),(l.getBottom()-n.getBottom()))}}var i=Math.abs((l.getCenterY()-n.getCenterY())/(l.getCenterX()-n.getCenterX()));if((l.getCenterY()==n.getCenterY())&&(l.getCenterX()==n.getCenterX())){i=1}var m=i*j[0];var o=j[1]/i;if(j[0]<o){o=j[0]}else{m=j[1]}j[0]=-1*p[0]*((o/2)+k);j[1]=-1*p[1]*((m/2)+k)};h.decideDirectionsForOverlappingNodes=function(j,i,k){if(j.getCenterX()<i.getCenterX()){k[0]=-1}else{k[0]=1}if(j.getCenterY()<i.getCenterY()){k[1]=-1}else{k[1]=1}};h.getIntersection2=function(v,r,C){var m=v.getCenterX();var k=v.getCenterY();var y=r.getCenterX();var x=r.getCenterY();if(v.intersects(r)){C[0]=m;C[1]=k;C[2]=y;C[3]=x;return true}var N=v.getX();var M=v.getY();var n=v.getRight();var t=v.getX();var q=v.getBottom();var J=v.getRight();var E=v.getWidthHalf();var i=v.getHeightHalf();var w=r.getX();var u=r.getY();var A=r.getRight();var G=r.getX();var F=r.getBottom();var o=r.getRight();var D=r.getWidthHalf();var P=r.getHeightHalf();var K=false;var O=false;if(m==y){if(k>x){C[0]=m;C[1]=M;C[2]=y;C[3]=F;return false}else{if(k<x){C[0]=m;C[1]=q;C[2]=y;C[3]=u;return false}else{}}}else{if(k==x){if(m>y){C[0]=N;C[1]=k;C[2]=A;C[3]=x;return false}else{if(m<y){C[0]=n;C[1]=k;C[2]=w;C[3]=x;return false}else{}}}else{var s=v.height/v.width;var p=r.height/r.width;var L=(x-k)/(y-m);var B;var z;var I;var H;var l;var j;if((-s)==L){if(m>y){C[0]=t;C[1]=q;K=true}else{C[0]=n;C[1]=M;K=true}}else{if(s==L){if(m>y){C[0]=N;C[1]=M;K=true}else{C[0]=J;C[1]=q;K=true}}}if((-p)==L){if(y>m){C[2]=G;C[3]=F;O=true}else{C[2]=A;C[3]=u;O=true}}else{if(p==L){if(y>m){C[2]=w;C[3]=u;O=true}else{C[2]=o;C[3]=F;O=true}}}if(K&&O){return false}if(m>y){if(k>x){B=h.getCardinalDirection(s,L,4);z=h.getCardinalDirection(p,L,2)}else{B=h.getCardinalDirection(-s,L,3);z=h.getCardinalDirection(-p,L,1)}}else{if(k>x){B=h.getCardinalDirection(-s,L,1);z=h.getCardinalDirection(-p,L,3)}else{B=h.getCardinalDirection(s,L,2);z=h.getCardinalDirection(p,L,4)}}if(!K){switch(B){case 1:H=M;I=m+(-i)/L;C[0]=I;C[1]=H;break;case 2:I=J;H=k+E*L;C[0]=I;C[1]=H;break;case 3:H=q;I=m+i/L;C[0]=I;C[1]=H;break;case 4:I=t;H=k+(-E)*L;C[0]=I;C[1]=H;break}}if(!O){switch(z){case 1:j=u;l=y+(-P)/L;C[2]=l;C[3]=j;break;case 2:l=o;j=x+D*L;C[2]=l;C[3]=j;break;case 3:j=F;l=y+P/L;C[2]=l;C[3]=j;break;case 4:l=G;j=x+(-D)*L;C[2]=l;C[3]=j;break}}}}return false};h.getCardinalDirection=function(i,k,j){if(i>k){return j}else{return 1+j%4}};h.getIntersection=function(l,j,w,v){if(v==null){return h.getIntersection2(l,j,w)}var C=l.x;var o=l.y;var B=j.x;var n=j.y;var A=w.x;var m=w.y;var z=v.x;var k=v.y;var s,r;var E,D,q,p,u,t;var i;E=n-o;q=C-B;u=B*o-C*n;D=k-m;p=A-z;t=z*m-A*k;i=E*p-D*q;if(i==0){return null}s=(q*t-p*u)/i;r=(D*u-E*t)/i;return new Point(s,r)};h.HALF_PI=0.5*Math.PI;h.ONE_AND_HALF_PI=1.5*Math.PI;h.TWO_PI=2*Math.PI;h.THREE_PI=3*Math.PI;g.exports=h},{}],16:[function(g,h,f){function e(){}e.sign=function(i){if(i>0){return 1}else{if(i<0){return -1}else{return 0}}};e.floor=function(i){return i<0?Math.ceil(i):Math.floor(i)};e.ceil=function(i){return i<0?Math.floor(i):Math.ceil(i)};h.exports=e},{}],17:[function(g,h,f){function e(){}e.MAX_VALUE=2147483647;e.MIN_VALUE=-2147483648;h.exports=e},{}],18:[function(g,h,f){var j=g("./LGraphObject");var i=g("./IGeometry");var e=g("./IMath");function k(n,o,m){j.call(this,m);this.isOverlapingSourceAndTarget=false;this.vGraphObject=m;this.bendpoints=[];this.source=n;this.target=o}k.prototype=Object.create(j.prototype);for(var l in j){k[l]=j[l]}k.prototype.getSource=function(){return this.source};k.prototype.getTarget=function(){return this.target};k.prototype.isInterGraph=function(){return this.isInterGraph};k.prototype.getLength=function(){return this.length};k.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget};k.prototype.getBendpoints=function(){return this.bendpoints};k.prototype.getLca=function(){return this.lca};k.prototype.getSourceInLca=function(){return this.sourceInLca};k.prototype.getTargetInLca=function(){return this.targetInLca
};k.prototype.getOtherEnd=function(m){if(this.source===m){return this.target}else{if(this.target===m){return this.source}else{throw"Node is not incident with this edge"}}};k.prototype.getOtherEndInGraph=function(o,p){var n=this.getOtherEnd(o);var m=p.getGraphManager().getRoot();while(true){if(n.getOwner()==p){return n}if(n.getOwner()==m){break}n=n.getOwner().getParent()}return null};k.prototype.updateLength=function(){var m=new Array(4);this.isOverlapingSourceAndTarget=i.getIntersection(this.target.getRect(),this.source.getRect(),m);if(!this.isOverlapingSourceAndTarget){this.lengthX=m[0]-m[2];this.lengthY=m[1]-m[3];if(Math.abs(this.lengthX)<1){this.lengthX=e.sign(this.lengthX)}if(Math.abs(this.lengthY)<1){this.lengthY=e.sign(this.lengthY)}this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)}};k.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX();this.lengthY=this.target.getCenterY()-this.source.getCenterY();if(Math.abs(this.lengthX)<1){this.lengthX=e.sign(this.lengthX)}if(Math.abs(this.lengthY)<1){this.lengthY=e.sign(this.lengthY)}this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)};h.exports=k},{"./IGeometry":15,"./IMath":16,"./LGraphObject":21}],19:[function(k,i,m){var n=k("./LGraphObject");var j=k("./Integer");var e=k("./LayoutConstants");var h=k("./LGraphManager");var r=k("./LNode");var q=k("./LEdge");var p=k("./HashSet");var l=k("./RectangleD");var o=k("./Point");function g(s,u,t){n.call(this,t);this.estimatedSize=j.MIN_VALUE;this.margin=e.DEFAULT_GRAPH_MARGIN;this.edges=[];this.nodes=[];this.isConnected=false;this.parent=s;if(u!=null&&u instanceof h){this.graphManager=u}else{if(u!=null&&u instanceof Layout){this.graphManager=u.graphManager}}}g.prototype=Object.create(n.prototype);for(var f in n){g[f]=n[f]}g.prototype.getNodes=function(){return this.nodes};g.prototype.getEdges=function(){return this.edges};g.prototype.getGraphManager=function(){return this.graphManager};g.prototype.getParent=function(){return this.parent};g.prototype.getLeft=function(){return this.left};g.prototype.getRight=function(){return this.right};g.prototype.getTop=function(){return this.top};g.prototype.getBottom=function(){return this.bottom};g.prototype.isConnected=function(){return this.isConnected};g.prototype.add=function(w,u,v){if(u==null&&v==null){var t=w;if(this.graphManager==null){throw"Graph has no graph mgr!"}if(this.getNodes().indexOf(t)>-1){throw"Node already in graph!"}t.owner=this;this.getNodes().push(t);return t}else{var s=w;if(!(this.getNodes().indexOf(u)>-1&&(this.getNodes().indexOf(v))>-1)){throw"Source or target not in graph!"}if(!(u.owner==v.owner&&u.owner==this)){throw"Both owners must be this graph!"}if(u.owner!=v.owner){return null}s.source=u;s.target=v;s.isInterGraph=false;this.getEdges().push(s);u.edges.push(s);if(v!=u){v.edges.push(s)}return s}};g.prototype.remove=function(w){var v=w;if(w instanceof r){if(v==null){throw"Node is null!"}if(!(v.owner!=null&&v.owner==this)){throw"Owner graph is invalid!"}if(this.graphManager==null){throw"Owner graph manager is invalid!"}var A=v.edges.slice();var u;var B=A.length;for(var x=0;x<B;x++){u=A[x];if(u.isInterGraph){this.graphManager.remove(u)}else{u.source.owner.remove(u)}}var y=this.nodes.indexOf(v);if(y==-1){throw"Node not in owner node list!"}this.nodes.splice(y,1)}else{if(w instanceof q){var u=w;if(u==null){throw"Edge is null!"}if(!(u.source!=null&&u.target!=null)){throw"Source and/or target is null!"}if(!(u.source.owner!=null&&u.target.owner!=null&&u.source.owner==this&&u.target.owner==this)){throw"Source and/or target owner is invalid!"}var z=u.source.edges.indexOf(u);var t=u.target.edges.indexOf(u);if(!(z>-1&&t>-1)){throw"Source and/or target doesn't know this edge!"}u.source.edges.splice(z,1);if(u.target!=u.source){u.target.edges.splice(t,1)}var y=u.source.owner.getEdges().indexOf(u);if(y==-1){throw"Not in owner's edge list!"}u.source.owner.getEdges().splice(y,1)}}};g.prototype.updateLeftTop=function(){var z=j.MAX_VALUE;var v=j.MAX_VALUE;var w;var A;var x;var t=this.getNodes();var B=t.length;for(var y=0;y<B;y++){var u=t[y];w=Math.floor(u.getTop());A=Math.floor(u.getLeft());if(z>w){z=w}if(v>A){v=A}}if(z==j.MAX_VALUE){return null}if(t[0].getParent().paddingLeft!=undefined){x=t[0].getParent().paddingLeft}else{x=this.margin}this.left=v-x;this.top=z-x;return new o(this.left,this.top)};g.prototype.updateBounds=function(z){var y=j.MAX_VALUE;var F=-j.MAX_VALUE;var E=j.MAX_VALUE;var t=-j.MAX_VALUE;var G;var D;var B;var x;var A;var u=this.nodes;var H=u.length;for(var C=0;C<H;C++){var w=u[C];if(z&&w.child!=null){w.updateBounds()}G=Math.floor(w.getLeft());D=Math.floor(w.getRight());B=Math.floor(w.getTop());x=Math.floor(w.getBottom());if(y>G){y=G}if(F<D){F=D}if(E>B){E=B}if(t<x){t=x}}var v=new l(y,E,F-y,t-E);if(y==j.MAX_VALUE){this.left=Math.floor(this.parent.getLeft());this.right=Math.floor(this.parent.getRight());this.top=Math.floor(this.parent.getTop());this.bottom=Math.floor(this.parent.getBottom())
}if(u[0].getParent().paddingLeft!=undefined){A=u[0].getParent().paddingLeft}else{A=this.margin}this.left=v.x-A;this.right=v.x+v.width+A;this.top=v.y-A;this.bottom=v.y+v.height+A};g.calculateBounds=function(u){var y=j.MAX_VALUE;var D=-j.MAX_VALUE;var C=j.MAX_VALUE;var t=-j.MAX_VALUE;var E;var B;var z;var x;var F=u.length;for(var A=0;A<F;A++){var w=u[A];E=Math.floor(w.getLeft());B=Math.floor(w.getRight());z=Math.floor(w.getTop());x=Math.floor(w.getBottom());if(y>E){y=E}if(D<B){D=B}if(C>z){C=z}if(t<x){t=x}}var v=new l(y,C,D-y,t-C);return v};g.prototype.getInclusionTreeDepth=function(){if(this==this.graphManager.getRoot()){return 1}else{return this.parent.getInclusionTreeDepth()}};g.prototype.getEstimatedSize=function(){if(this.estimatedSize==j.MIN_VALUE){throw"assert failed"}return this.estimatedSize};g.prototype.calcEstimatedSize=function(){var w=0;var u=this.nodes;var x=u.length;for(var v=0;v<x;v++){var t=u[v];w+=t.calcEstimatedSize()}if(w==0){this.estimatedSize=e.EMPTY_COMPOUND_NODE_SIZE}else{this.estimatedSize=Math.floor(w/Math.sqrt(this.nodes.length))}return Math.floor(this.estimatedSize)};g.prototype.updateConnected=function(){var B=this;if(this.nodes.length==0){this.isConnected=true;return}var A=[];var v=new p();var t=this.nodes[0];var x;var w;A=A.concat(t.withChildren());while(A.length>0){t=A.shift();v.add(t);x=t.getEdges();var C=x.length;for(var u=0;u<C;u++){var z=x[u];w=z.getOtherEndInGraph(t,this);if(w!=null&&!v.contains(w)){A=A.concat(w.withChildren())}}}this.isConnected=false;if(v.size()>=this.nodes.length){var y=0;var C=v.size();Object.keys(v.set).forEach(function(D){var s=v.set[D];if(s.owner==B){y++}});if(y==this.nodes.length){this.isConnected=true}}};i.exports=g},{"./HashSet":14,"./Integer":17,"./LEdge":18,"./LGraphManager":20,"./LGraphObject":21,"./LNode":22,"./LayoutConstants":24,"./Point":25,"./RectangleD":28}],20:[function(g,h,e){var i;var j=g("./LEdge");function f(k){i=g("./LGraph");this.layout=k;this.graphs=[];this.edges=[]}f.prototype.addRoot=function(){var m=this.layout.newGraph();var l=this.layout.newNode(null);var k=this.add(m,l);this.setRootGraph(k);return this.rootGraph};f.prototype.add=function(q,k,m,n,p){if(m==null&&n==null&&p==null){if(q==null){throw"Graph is null!"}if(k==null){throw"Parent node is null!"}if(this.graphs.indexOf(q)>-1){throw"Graph already in this graph mgr!"}this.graphs.push(q);if(q.parent!=null){throw"Already has a parent!"}if(k.child!=null){throw"Already has a child!"}q.parent=k;k.child=q;return q}else{p=m;n=k;m=q;var l=n.getOwner();var o=p.getOwner();if(!(l!=null&&l.getGraphManager()==this)){throw"Source not in this graph mgr!"}if(!(o!=null&&o.getGraphManager()==this)){throw"Target not in this graph mgr!"}if(l==o){m.isInterGraph=false;return l.add(m,n,p)}else{m.isInterGraph=true;m.source=n;m.target=p;if(this.edges.indexOf(m)>-1){throw"Edge already in inter-graph edge list!"}this.edges.push(m);if(!(m.source!=null&&m.target!=null)){throw"Edge source and/or target is null!"}if(!(m.source.edges.indexOf(m)==-1&&m.target.edges.indexOf(m)==-1)){throw"Edge already in source and/or target incidency list!"}m.source.edges.push(m);m.target.edges.push(m);return m}}};f.prototype.remove=function(m){if(m instanceof i){var q=m;if(q.getGraphManager()!=this){throw"Graph not in this graph mgr"}if(!(q==this.rootGraph||(q.parent!=null&&q.parent.graphManager==this))){throw"Invalid parent node!"}var p=[];p=p.concat(q.getEdges());var k;var r=p.length;for(var n=0;n<r;n++){k=p[n];q.remove(k)}var t=[];t=t.concat(q.getNodes());var l;r=t.length;for(var n=0;n<r;n++){l=t[n];q.remove(l)}if(q==this.rootGraph){this.setRootGraph(null)}var o=this.graphs.indexOf(q);this.graphs.splice(o,1);q.parent=null}else{if(m instanceof j){k=m;if(k==null){throw"Edge is null!"}if(!k.isInterGraph){throw"Not an inter-graph edge!"}if(!(k.source!=null&&k.target!=null)){throw"Source and/or target is null!"}if(!(k.source.edges.indexOf(k)!=-1&&k.target.edges.indexOf(k)!=-1)){throw"Source and/or target doesn't know this edge!"}var o=k.source.edges.indexOf(k);k.source.edges.splice(o,1);o=k.target.edges.indexOf(k);k.target.edges.splice(o,1);if(!(k.source.owner!=null&&k.source.owner.getGraphManager()!=null)){throw"Edge owner graph or owner graph manager is null!"}if(k.source.owner.getGraphManager().edges.indexOf(k)==-1){throw"Not in owner graph manager's edge list!"}var o=k.source.owner.getGraphManager().edges.indexOf(k);k.source.owner.getGraphManager().edges.splice(o,1)}}};f.prototype.updateBounds=function(){this.rootGraph.updateBounds(true)};f.prototype.getGraphs=function(){return this.graphs};f.prototype.getAllNodes=function(){if(this.allNodes==null){var l=[];var k=this.getGraphs();var n=k.length;for(var m=0;m<n;m++){l=l.concat(k[m].getNodes())}this.allNodes=l}return this.allNodes};f.prototype.resetAllNodes=function(){this.allNodes=null};f.prototype.resetAllEdges=function(){this.allEdges=null};f.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null};f.prototype.getAllEdges=function(){if(this.allEdges==null){var n=[];
    var k=this.getGraphs();var m=k.length;for(var l=0;l<k.length;l++){n=n.concat(k[l].getEdges())}n=n.concat(this.edges);this.allEdges=n}return this.allEdges};f.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation};f.prototype.setAllNodesToApplyGravitation=function(k){if(this.allNodesToApplyGravitation!=null){throw"assert failed"}this.allNodesToApplyGravitation=k};f.prototype.getRoot=function(){return this.rootGraph};f.prototype.setRootGraph=function(k){if(k.getGraphManager()!=this){throw"Root not in this graph mgr!"}this.rootGraph=k;if(k.parent==null){k.parent=this.layout.newNode("Root node")}};f.prototype.getLayout=function(){return this.layout};f.prototype.isOneAncestorOfOther=function(n,m){if(!(n!=null&&m!=null)){throw"assert failed"}if(n==m){return true}var l=n.getOwner();var k;do{k=l.getParent();if(k==null){break}if(k==m){return true}l=k.getOwner();if(l==null){break}}while(true);l=m.getOwner();do{k=l.getParent();if(k==null){break}if(k==n){return true}l=k.getOwner();if(l==null){break}}while(true);return false};f.prototype.calcLowestCommonAncestors=function(){var p;var o;var r;var n;var q;var k=this.getAllEdges();var m=k.length;for(var l=0;l<m;l++){p=k[l];o=p.source;r=p.target;p.lca=null;p.sourceInLca=o;p.targetInLca=r;if(o==r){p.lca=o.getOwner();continue}n=o.getOwner();while(p.lca==null){q=r.getOwner();while(p.lca==null){if(q==n){p.lca=q;break}if(q==this.rootGraph){break}if(p.lca!=null){throw"assert failed"}p.targetInLca=q.getParent();q=p.targetInLca.getOwner()}if(n==this.rootGraph){break}if(p.lca==null){p.sourceInLca=n.getParent();n=p.sourceInLca.getOwner()}}if(p.lca==null){throw"assert failed"}}};f.prototype.calcLowestCommonAncestor=function(n,l){if(n==l){return n.getOwner()}var m=n.getOwner();do{if(m==null){break}var k=l.getOwner();do{if(k==null){break}if(k==m){return k}k=k.getParent().getOwner()}while(true);m=m.getParent().getOwner()}while(true);return m};f.prototype.calcInclusionTreeDepths=function(o,p){if(o==null&&p==null){o=this.rootGraph;p=1}var n;var k=o.getNodes();var m=k.length;for(var l=0;l<m;l++){n=k[l];n.inclusionTreeDepth=p;if(n.child!=null){this.calcInclusionTreeDepths(n.child,p+1)}}};f.prototype.includesInvalidEdge=function(){var m;var l=this.edges.length;for(var k=0;k<l;k++){m=this.edges[k];if(this.isOneAncestorOfOther(m.source,m.target)){return true}}return false};h.exports=f},{"./LEdge":18,"./LGraph":19}],21:[function(f,g,e){function h(i){this.vGraphObject=i}g.exports=h},{}],22:[function(j,h,l){var m=j("./LGraphObject");var i=j("./Integer");var k=j("./RectangleD");var e=j("./LayoutConstants");var n=j("./RandomSeed");var g=j("./PointD");var o=j("./HashSet");function p(s,t,q,r){if(q==null&&r==null){r=t}m.call(this,r);if(s.graphManager!=null){s=s.graphManager}this.estimatedSize=i.MIN_VALUE;this.inclusionTreeDepth=i.MAX_VALUE;this.vGraphObject=r;this.edges=[];this.graphManager=s;if(q!=null&&t!=null){this.rect=new k(t.x,t.y,q.width,q.height)}else{this.rect=new k()}}p.prototype=Object.create(m.prototype);for(var f in m){p[f]=m[f]}p.prototype.getEdges=function(){return this.edges};p.prototype.getChild=function(){return this.child};p.prototype.getOwner=function(){if(this.owner!=null){if(!(this.owner==null||this.owner.getNodes().indexOf(this)>-1)){throw"assert failed"}}return this.owner};p.prototype.getWidth=function(){return this.rect.width};p.prototype.setWidth=function(q){this.rect.width=q};p.prototype.getHeight=function(){return this.rect.height};p.prototype.setHeight=function(q){this.rect.height=q};p.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2};p.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2};p.prototype.getCenter=function(){return new g(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)};p.prototype.getLocation=function(){return new g(this.rect.x,this.rect.y)};p.prototype.getRect=function(){return this.rect};p.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)};p.prototype.setRect=function(q,r){this.rect.x=q.x;this.rect.y=q.y;this.rect.width=r.width;this.rect.height=r.height};p.prototype.setCenter=function(q,r){this.rect.x=q-this.rect.width/2;this.rect.y=r-this.rect.height/2};p.prototype.setLocation=function(q,r){this.rect.x=q;this.rect.y=r};p.prototype.moveBy=function(r,q){this.rect.x+=r;this.rect.y+=q};p.prototype.getEdgeListToNode=function(t){var r=[];var s;var q=this;q.edges.forEach(function(u){if(u.target==t){if(u.source!=q){throw"Incorrect edge source!"}r.push(u)}});return r};p.prototype.getEdgesBetween=function(q){var s=[];var t;var r=this;r.edges.forEach(function(u){if(!(u.source==r||u.target==r)){throw"Incorrect edge source and/or target"}if((u.target==q)||(u.source==q)){s.push(u)}});return s};p.prototype.getNeighborsList=function(){var r=new o();var s;var q=this;q.edges.forEach(function(t){if(t.source==q){r.add(t.target)}else{if(t.target!=q){throw"Incorrect incidency!"}r.add(t.source)}});return r};p.prototype.withChildren=function(){var r=[];
    var t;r.push(this);if(this.child!=null){var q=this.child.getNodes();for(var s=0;s<q.length;s++){t=q[s];r=r.concat(t.withChildren())}}return r};p.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE){throw"assert failed"}return this.estimatedSize};p.prototype.calcEstimatedSize=function(){if(this.child==null){return this.estimatedSize=Math.floor((this.rect.width+this.rect.height)/2)}else{this.estimatedSize=this.child.calcEstimatedSize();this.rect.width=this.estimatedSize;this.rect.height=this.estimatedSize;return this.estimatedSize}};p.prototype.scatter=function(){var t;var r;var q=-e.INITIAL_WORLD_BOUNDARY;var u=e.INITIAL_WORLD_BOUNDARY;t=e.WORLD_CENTER_X+(n.nextDouble()*(u-q))+q;var v=-e.INITIAL_WORLD_BOUNDARY;var s=e.INITIAL_WORLD_BOUNDARY;r=e.WORLD_CENTER_Y+(n.nextDouble()*(s-v))+v;this.rect.x=t;this.rect.y=r};p.prototype.updateBounds=function(){if(this.getChild()==null){throw"assert failed"}if(this.getChild().getNodes().length!=0){var q=this.getChild();q.updateBounds(true);this.rect.x=q.getLeft();this.rect.y=q.getTop();this.setWidth(q.getRight()-q.getLeft());this.setHeight(q.getBottom()-q.getTop())}};p.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==i.MAX_VALUE){throw"assert failed"}return this.inclusionTreeDepth};p.prototype.transform=function(r){var t=this.rect.x;if(t>e.WORLD_BOUNDARY){t=e.WORLD_BOUNDARY}else{if(t<-e.WORLD_BOUNDARY){t=-e.WORLD_BOUNDARY}}var s=this.rect.y;if(s>e.WORLD_BOUNDARY){s=e.WORLD_BOUNDARY}else{if(s<-e.WORLD_BOUNDARY){s=-e.WORLD_BOUNDARY}}var q=new g(t,s);var u=r.inverseTransformPoint(q);this.setLocation(u.x,u.y)};p.prototype.getLeft=function(){return this.rect.x};p.prototype.getRight=function(){return this.rect.x+this.rect.width};p.prototype.getTop=function(){return this.rect.y};p.prototype.getBottom=function(){return this.rect.y+this.rect.height};p.prototype.getParent=function(){if(this.owner==null){return null}return this.owner.getParent()};h.exports=p},{"./HashSet":14,"./Integer":17,"./LGraphObject":21,"./LayoutConstants":24,"./PointD":26,"./RandomSeed":27,"./RectangleD":28}],23:[function(j,i,l){var e=j("./LayoutConstants");var q=j("./HashMap");var g=j("./LGraphManager");var r=j("./LNode");var p=j("./LEdge");var f=j("./LGraph");var h=j("./PointD");var k=j("./Transform");var n=j("./Emitter");var m=j("./HashSet");function o(s){n.call(this);this.layoutQuality=e.DEFAULT_QUALITY;this.createBendsAsNeeded=e.DEFAULT_CREATE_BENDS_AS_NEEDED;this.incremental=e.DEFAULT_INCREMENTAL;this.animationOnLayout=e.DEFAULT_ANIMATION_ON_LAYOUT;this.animationDuringLayout=e.DEFAULT_ANIMATION_DURING_LAYOUT;this.animationPeriod=e.DEFAULT_ANIMATION_PERIOD;this.uniformLeafNodeSizes=e.DEFAULT_UNIFORM_LEAF_NODE_SIZES;this.edgeToDummyNodes=new q();this.graphManager=new g(this);this.isLayoutFinished=false;this.isSubLayout=false;this.isRemoteUse=false;if(s!=null){this.isRemoteUse=s}}o.RANDOM_SEED=1;o.prototype=Object.create(n.prototype);o.prototype.getGraphManager=function(){return this.graphManager};o.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()};o.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()};o.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()};o.prototype.newGraphManager=function(){var s=new g(this);this.graphManager=s;return s};o.prototype.newGraph=function(s){return new f(null,this.graphManager,s)};o.prototype.newNode=function(s){return new r(this.graphManager,s)};o.prototype.newEdge=function(s){return new p(null,null,s)};o.prototype.checkLayoutSuccess=function(){return(this.graphManager.getRoot()==null)||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()};o.prototype.runLayout=function(){this.isLayoutFinished=false;if(this.tilingPreLayout){this.tilingPreLayout()}this.initParameters();var s;if(this.checkLayoutSuccess()){s=false}else{s=this.layout()}if(e.ANIMATE==="during"){return false}if(s){if(!this.isSubLayout){this.doPostLayout()}}if(this.tilingPostLayout){this.tilingPostLayout()}this.isLayoutFinished=true;return s};o.prototype.doPostLayout=function(){this.transform();this.update()};o.prototype.update2=function(){if(this.createBendsAsNeeded){this.createBendpointsFromDummyNodes();this.graphManager.resetAllEdges()}if(!this.isRemoteUse){var w;var u=this.graphManager.getAllEdges();for(var t=0;t<u.length;t++){w=u[t]}var v;var s=this.graphManager.getRoot().getNodes();for(var t=0;t<s.length;t++){v=s[t]}this.update(this.graphManager.getRoot())}};o.prototype.update=function(x){if(x==null){this.update2()}else{if(x instanceof r){var v=x;if(v.getChild()!=null){var s=v.getChild().getNodes();for(var y=0;y<s.length;y++){update(s[y])}}if(v.vGraphObject!=null){var w=v.vGraphObject;w.update(v)}}else{if(x instanceof p){var t=x;if(t.vGraphObject!=null){var u=t.vGraphObject;u.update(t)}}else{if(x instanceof f){var A=x;if(A.vGraphObject!=null){var z=A.vGraphObject;z.update(A)}}}}}};o.prototype.initParameters=function(){if(!this.isSubLayout){this.layoutQuality=e.DEFAULT_QUALITY;
    this.animationDuringLayout=e.DEFAULT_ANIMATION_ON_LAYOUT;this.animationPeriod=e.DEFAULT_ANIMATION_PERIOD;this.animationOnLayout=e.DEFAULT_ANIMATION_DURING_LAYOUT;this.incremental=e.DEFAULT_INCREMENTAL;this.createBendsAsNeeded=e.DEFAULT_CREATE_BENDS_AS_NEEDED;this.uniformLeafNodeSizes=e.DEFAULT_UNIFORM_LEAF_NODE_SIZES}if(this.animationDuringLayout){animationOnLayout=false}};o.prototype.transform=function(x){if(x==undefined){this.transform(new h(0,0))}else{var v=new k();var t=this.graphManager.getRoot().updateLeftTop();if(t!=null){v.setWorldOrgX(x.x);v.setWorldOrgY(x.y);v.setDeviceOrgX(t.x);v.setDeviceOrgY(t.y);var s=this.getAllNodes();var w;for(var u=0;u<s.length;u++){w=s[u];w.transform(v)}}}};o.prototype.positionNodesRandomly=function(w){if(w==undefined){this.positionNodesRandomly(this.getGraphManager().getRoot());this.getGraphManager().getRoot().updateBounds(true)}else{var t;var u;var s=w.getNodes();for(var v=0;v<s.length;v++){t=s[v];u=t.getChild();if(u==null){t.scatter()}else{if(u.getNodes().length==0){t.scatter()}else{this.positionNodesRandomly(u);t.updateBounds()}}}}};o.prototype.getFlatForest=function(){var u=[];var v=true;var s=this.graphManager.getRoot().getNodes();var z=true;for(var w=0;w<s.length;w++){if(s[w].getChild()!=null){z=false}}if(!z){return u}var y=new m();var G=[];var D=new q();var C=[];C=C.concat(s);while(C.length>0&&v){G.push(C[0]);while(G.length>0&&v){var t=G[0];G.splice(0,1);y.add(t);var B=t.getEdges();for(var w=0;w<B.length;w++){var A=B[w].getOtherEnd(t);if(D.get(t)!=A){if(!y.contains(A)){G.push(A);D.put(A,t)}else{v=false;break}}}}if(!v){u=[]}else{var F=[];y.addAllTo(F);u.push(F);for(var w=0;w<F.length;w++){var E=F[w];var x=C.indexOf(E);if(x>-1){C.splice(x,1)}}y=new m();D=new q()}}return u};o.prototype.createDummyNodesForBendpoints=function(x){var v=[];var w=x.source;var y=this.graphManager.calcLowestCommonAncestor(x.source,x.target);for(var u=0;u<x.bendpoints.length;u++){var t=this.newNode(null);t.setRect(new Point(0,0),new Dimension(1,1));y.add(t);var s=this.newEdge(null);this.graphManager.add(s,w,t);v.add(t);w=t}var s=this.newEdge(null);this.graphManager.add(s,w,x.target);this.edgeToDummyNodes.put(x,v);if(x.isInterGraph()){this.graphManager.remove(x)}else{y.remove(x)}return v};o.prototype.createBendpointsFromDummyNodes=function(){var u=[];u=u.concat(this.graphManager.getAllEdges());u=this.edgeToDummyNodes.keySet().concat(u);for(var t=0;t<u.length;t++){var s=u[t];if(s.bendpoints.length>0){var y=this.edgeToDummyNodes.get(s);for(var w=0;w<y.length;w++){var v=y[w];var x=new h(v.getCenterX(),v.getCenterY());var z=s.bendpoints.get(w);z.x=x.x;z.y=x.y;v.getOwner().remove(v)}this.graphManager.add(s,s.source,s.target)}}};o.transform=function(A,u,w,s){if(w!=undefined&&s!=undefined){var z=u;if(A<=50){var x=u/w;z-=((u-x)/50)*(50-A)}else{var t=u*s;z+=((t-u)/50)*(A-50)}return z}else{var y,v;if(A<=50){y=9*u/500;v=u/10}else{y=9*u/50;v=-8*u}return(y*A+v)}};o.findCenterOfTree=function(s){var B=[];B=B.concat(s);var y=[];var E=new q();var t=false;var v=null;if(B.length==1||B.length==2){t=true;v=B[0]}for(var z=0;z<B.length;z++){var w=B[z];var x=w.getNeighborsList().size();E.put(w,w.getNeighborsList().size());if(x==1){y.push(w)}}var C=[];C=C.concat(y);while(!t){var D=[];D=D.concat(C);C=[];for(var z=0;z<B.length;z++){var w=B[z];var A=B.indexOf(w);if(A>=0){B.splice(A,1)}var u=w.getNeighborsList();Object.keys(u.set).forEach(function(H){var F=u.set[H];if(y.indexOf(F)<0){var G=E.get(F);var I=G-1;if(I==1){C.push(F)}E.put(F,I)}})}y=y.concat(C);if(B.length==1||B.length==2){t=true;v=B[0]}}return v};o.prototype.setGraphManager=function(s){this.graphManager=s};i.exports=o},{"./Emitter":8,"./HashMap":13,"./HashSet":14,"./LEdge":18,"./LGraph":19,"./LGraphManager":20,"./LNode":22,"./LayoutConstants":24,"./PointD":26,"./Transform":29}],24:[function(f,g,e){function h(){}h.PROOF_QUALITY=0;h.DEFAULT_QUALITY=1;h.DRAFT_QUALITY=2;h.DEFAULT_CREATE_BENDS_AS_NEEDED=false;h.DEFAULT_INCREMENTAL=false;h.DEFAULT_ANIMATION_ON_LAYOUT=true;h.DEFAULT_ANIMATION_DURING_LAYOUT=false;h.DEFAULT_ANIMATION_PERIOD=50;h.DEFAULT_UNIFORM_LEAF_NODE_SIZES=false;h.DEFAULT_GRAPH_MARGIN=15;h.SIMPLE_NODE_SIZE=40;h.SIMPLE_NODE_HALF_SIZE=h.SIMPLE_NODE_SIZE/2;h.EMPTY_COMPOUND_NODE_SIZE=40;h.MIN_EDGE_LENGTH=1;h.WORLD_BOUNDARY=1000000;h.INITIAL_WORLD_BOUNDARY=h.WORLD_BOUNDARY/1000;h.WORLD_CENTER_X=1200;h.WORLD_CENTER_Y=900;g.exports=h},{}],25:[function(f,g,e){function h(i,k,j){this.x=null;this.y=null;if(i==null&&k==null&&j==null){this.x=0;this.y=0}else{if(typeof i=="number"&&typeof k=="number"&&j==null){this.x=i;this.y=k}else{if(i.constructor.name=="Point"&&k==null&&j==null){j=i;this.x=j.x;this.y=j.y}}}}h.prototype.getX=function(){return this.x};h.prototype.getY=function(){return this.y};h.prototype.getLocation=function(){return new h(this.x,this.y)};h.prototype.setLocation=function(i,k,j){if(i.constructor.name=="Point"&&k==null&&j==null){j=i;this.setLocation(j.x,j.y)}else{if(typeof i=="number"&&typeof k=="number"&&j==null){if(parseInt(i)==i&&parseInt(k)==k){this.move(i,k)
}else{this.x=Math.floor(i+0.5);this.y=Math.floor(k+0.5)}}}};h.prototype.move=function(i,j){this.x=i;this.y=j};h.prototype.translate=function(j,i){this.x+=j;this.y+=i};h.prototype.equals=function(j){if(j.constructor.name=="Point"){var i=j;return(this.x==i.x)&&(this.y==i.y)}return this==j};h.prototype.toString=function(){return new h().constructor.name+"[x="+this.x+",y="+this.y+"]"};g.exports=h},{}],26:[function(f,g,e){function h(i,j){if(i==null&&j==null){this.x=0;this.y=0}else{this.x=i;this.y=j}}h.prototype.getX=function(){return this.x};h.prototype.getY=function(){return this.y};h.prototype.setX=function(i){this.x=i};h.prototype.setY=function(i){this.y=i};h.prototype.getDifference=function(i){return new DimensionD(this.x-i.x,this.y-i.y)};h.prototype.getCopy=function(){return new h(this.x,this.y)};h.prototype.translate=function(i){this.x+=i.width;this.y+=i.height;return this};g.exports=h},{}],27:[function(g,h,e){function f(){}f.seed=1;f.x=0;f.nextDouble=function(){f.x=Math.sin(f.seed++)*10000;return f.x-Math.floor(f.x)};h.exports=f},{}],28:[function(f,h,e){function g(j,l,k,i){this.x=0;this.y=0;this.width=0;this.height=0;if(j!=null&&l!=null&&k!=null&&i!=null){this.x=j;this.y=l;this.width=k;this.height=i}}g.prototype.getX=function(){return this.x};g.prototype.setX=function(i){this.x=i};g.prototype.getY=function(){return this.y};g.prototype.setY=function(i){this.y=i};g.prototype.getWidth=function(){return this.width};g.prototype.setWidth=function(i){this.width=i};g.prototype.getHeight=function(){return this.height};g.prototype.setHeight=function(i){this.height=i};g.prototype.getRight=function(){return this.x+this.width};g.prototype.getBottom=function(){return this.y+this.height};g.prototype.intersects=function(i){if(this.getRight()<i.x){return false}if(this.getBottom()<i.y){return false}if(i.getRight()<this.x){return false}if(i.getBottom()<this.y){return false}return true};g.prototype.getCenterX=function(){return this.x+this.width/2};g.prototype.getMinX=function(){return this.getX()};g.prototype.getMaxX=function(){return this.getX()+this.width};g.prototype.getCenterY=function(){return this.y+this.height/2};g.prototype.getMinY=function(){return this.getY()};g.prototype.getMaxY=function(){return this.getY()+this.height};g.prototype.getWidthHalf=function(){return this.width/2};g.prototype.getHeightHalf=function(){return this.height/2};h.exports=g},{}],29:[function(g,h,e){var i=g("./PointD");function f(j,k){this.lworldOrgX=0;this.lworldOrgY=0;this.ldeviceOrgX=0;this.ldeviceOrgY=0;this.lworldExtX=1;this.lworldExtY=1;this.ldeviceExtX=1;this.ldeviceExtY=1}f.prototype.getWorldOrgX=function(){return this.lworldOrgX};f.prototype.setWorldOrgX=function(j){this.lworldOrgX=j};f.prototype.getWorldOrgY=function(){return this.lworldOrgY};f.prototype.setWorldOrgY=function(j){this.lworldOrgY=j};f.prototype.getWorldExtX=function(){return this.lworldExtX};f.prototype.setWorldExtX=function(j){this.lworldExtX=j};f.prototype.getWorldExtY=function(){return this.lworldExtY};f.prototype.setWorldExtY=function(j){this.lworldExtY=j};f.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX};f.prototype.setDeviceOrgX=function(j){this.ldeviceOrgX=j};f.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY};f.prototype.setDeviceOrgY=function(j){this.ldeviceOrgY=j};f.prototype.getDeviceExtX=function(){return this.ldeviceExtX};f.prototype.setDeviceExtX=function(j){this.ldeviceExtX=j};f.prototype.getDeviceExtY=function(){return this.ldeviceExtY};f.prototype.setDeviceExtY=function(j){this.ldeviceExtY=j};f.prototype.transformX=function(j){var k=0;var l=this.lworldExtX;if(l!=0){k=this.ldeviceOrgX+((j-this.lworldOrgX)*this.ldeviceExtX/l)}return k};f.prototype.transformY=function(l){var j=0;var k=this.lworldExtY;if(k!=0){j=this.ldeviceOrgY+((l-this.lworldOrgY)*this.ldeviceExtY/k)}return j};f.prototype.inverseTransformX=function(j){var k=0;var l=this.ldeviceExtX;if(l!=0){k=this.lworldOrgX+((j-this.ldeviceOrgX)*this.lworldExtX/l)}return k};f.prototype.inverseTransformY=function(l){var j=0;var k=this.ldeviceExtY;if(k!=0){j=this.lworldOrgY+((l-this.ldeviceOrgY)*this.lworldExtY/k)}return j};f.prototype.inverseTransformPoint=function(k){var j=new i(this.inverseTransformX(k.x),this.inverseTransformY(k.y));return j};h.exports=f},{"./PointD":26}],30:[function(f,g,e){function h(){}h.lastID=0;h.createID=function(i){if(h.isPrimitive(i)){return i}if(i.uniqueID!=null){return i.uniqueID}i.uniqueID=h.getString();h.lastID++;return i.uniqueID};h.getString=function(i){if(i==null){i=h.lastID}return"Object#"+i+""};h.isPrimitive=function(i){var j=typeof i;return i==null||(j!="object"&&j!="function")};g.exports=h},{}],31:[function(g,f,I){var x=g("./DimensionD");var D=g("./HashMap");var B=g("./HashSet");var L=g("./IGeometry");var s=g("./IMath");var w=g("./Integer");var q=g("./Point");var C=g("./PointD");var e=g("./RandomSeed");var k=g("./RectangleD");var K=g("./Transform");var G=g("./UniqueIDGeneretor");var m=g("./LGraphObject");var E=g("./LGraph");var o=g("./LEdge");var l=g("./LGraphManager");
    var z=g("./LNode");var h=g("./Layout");var j=g("./LayoutConstants");var F=g("./FDLayout");var A=g("./FDLayoutConstants");var O=g("./FDLayoutEdge");var p=g("./FDLayoutNode");var t=g("./CoSEConstants");var v=g("./CoSEEdge");var u=g("./CoSEGraph");var i=g("./CoSEGraphManager");var N=g("./CoSELayout");var M=g("./CoSENode");var y={ready:function(){},stop:function(){},refresh:30,fit:true,padding:10,randomize:true,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:0.45,nestingFactor:0.1,gravity:0.25,numIter:2500,tile:true,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:0.8};function n(S,P){var R={};for(var Q in S){R[Q]=S[Q]}for(var Q in P){R[Q]=P[Q]}return R}function r(P){this.options=n(y,P);H(this.options)}var H=function(P){if(P.nodeRepulsion!=null){t.DEFAULT_REPULSION_STRENGTH=A.DEFAULT_REPULSION_STRENGTH=P.nodeRepulsion}if(P.idealEdgeLength!=null){t.DEFAULT_EDGE_LENGTH=A.DEFAULT_EDGE_LENGTH=P.idealEdgeLength}if(P.edgeElasticity!=null){t.DEFAULT_SPRING_STRENGTH=A.DEFAULT_SPRING_STRENGTH=P.edgeElasticity}if(P.nestingFactor!=null){t.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=A.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=P.nestingFactor}if(P.gravity!=null){t.DEFAULT_GRAVITY_STRENGTH=A.DEFAULT_GRAVITY_STRENGTH=P.gravity}if(P.numIter!=null){t.MAX_ITERATIONS=A.MAX_ITERATIONS=P.numIter}if(P.gravityRange!=null){t.DEFAULT_GRAVITY_RANGE_FACTOR=A.DEFAULT_GRAVITY_RANGE_FACTOR=P.gravityRange}if(P.gravityCompound!=null){t.DEFAULT_COMPOUND_GRAVITY_STRENGTH=A.DEFAULT_COMPOUND_GRAVITY_STRENGTH=P.gravityCompound}if(P.gravityRangeCompound!=null){t.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=A.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=P.gravityRangeCompound}if(P.initialEnergyOnIncremental!=null){t.DEFAULT_COOLING_FACTOR_INCREMENTAL=A.DEFAULT_COOLING_FACTOR_INCREMENTAL=P.initialEnergyOnIncremental}t.DEFAULT_INCREMENTAL=A.DEFAULT_INCREMENTAL=j.DEFAULT_INCREMENTAL=!(P.randomize);t.ANIMATE=A.ANIMATE=j.ANIMATE=P.animate;t.TILE=P.tile;t.TILING_PADDING_VERTICAL=typeof P.tilingPaddingVertical==="function"?P.tilingPaddingVertical.call():P.tilingPaddingVertical;t.TILING_PADDING_HORIZONTAL=typeof P.tilingPaddingHorizontal==="function"?P.tilingPaddingHorizontal.call():P.tilingPaddingHorizontal};r.prototype.run=function(){var aa;var Y;var ae=this.options;var R=this.idToLNode={};var W=this.layout=new N();var ac=this;this.cy=this.options.cy;this.cy.trigger({type:"layoutstart",layout:this});var V=W.newGraphManager();this.gm=V;var P=this.options.eles.nodes();var T=this.options.eles.edges();this.root=V.addRoot();this.processChildrenList(this.root,this.getTopMostNodes(P),W);for(var U=0;U<T.length;U++){var Q=T[U];var S=this.idToLNode[Q.data("source")];var X=this.idToLNode[Q.data("target")];var Z=V.add(W.newEdge(),S,X);Z.id=Q.id()}var ad=function(ai,ah){if(typeof ai==="number"){ai=ah}var ag=ai.data("id");var af=ac.idToLNode[ag];return{x:af.getRect().getCenterX(),y:af.getRect().getCenterY()}};var ab=function(){var aj=function(){if(ae.fit){ae.cy.fit(ae.eles.nodes(),ae.padding)}if(!aa){aa=true;ac.cy.one("layoutready",ae.ready);ac.cy.trigger({type:"layoutready",layout:ac})}};var ah=ac.options.refresh;var af;for(var ag=0;ag<ah&&!af;ag++){af=ac.layout.tick()}if(af){if(W.checkLayoutSuccess()&&!W.isSubLayout){W.doPostLayout()}if(W.tilingPostLayout){W.tilingPostLayout()}W.isLayoutFinished=true;ac.options.eles.nodes().positions(ad);aj();ac.cy.one("layoutstop",ac.options.stop);ac.cy.trigger("layoutstop");ac.cy.trigger({type:"layoutstop",layout:ac});if(Y){cancelAnimationFrame(Y)}aa=false;return}var ai=ac.layout.getPositionsData();ae.eles.nodes().positions(function(ao,an){if(typeof ao==="number"){ao=an}var al=ao.id();var am=ai[al];var ak=ao;while(am==null){am=ai[ak.data("parent")]||ai["DummyCompound_"+ak.data("parent")];ai[al]=am;ak=ak.parent()[0]}return{x:am.x,y:am.y}});aj();Y=requestAnimationFrame(ab)};W.addListener("layoutstarted",function(){if(ac.options.animate==="during"){Y=requestAnimationFrame(ab)}});W.runLayout();if(this.options.animate!=="during"){ac.options.eles.nodes().not(":parent").layoutPositions(ac,ac.options,ad);aa=false}return this};r.prototype.getTopMostNodes=function(Q){var S={};for(var R=0;R<Q.length;R++){S[Q[R].id()]=true}var P=Q.filter(function(V,T){if(typeof V==="number"){V=T}var U=V.parent()[0];while(U!=null){if(S[U.id()]){return false}U=U.parent()[0]}return true});return P};r.prototype.processChildrenList=function(W,Q,T){var X=Q.length;for(var S=0;S<X;S++){var U=Q[S];this.options.eles.nodes().length;var R=U.children();var V;if(U.outerWidth()!=null&&U.outerHeight()!=null){V=W.add(new M(T.graphManager,new C(U.position("x")-U.outerWidth()/2,U.position("y")-U.outerHeight()/2),new x(parseFloat(U.outerWidth()),parseFloat(U.outerHeight()))))}else{V=W.add(new M(this.graphManager))}V.id=U.data("id");V.paddingLeft=parseInt(U.css("padding"));V.paddingTop=parseInt(U.css("padding"));V.paddingRight=parseInt(U.css("padding"));V.paddingBottom=parseInt(U.css("padding"));
        this.idToLNode[U.data("id")]=V;if(isNaN(V.rect.x)){V.rect.x=0}if(isNaN(V.rect.y)){V.rect.y=0}if(R!=null&&R.length>0){var P;P=T.getGraphManager().add(T.newGraph(),V);this.processChildrenList(P,R,T)}}};r.prototype.stop=function(){this.stopped=true;this.trigger("layoutstop");return this};f.exports=function J(P){return r}},{"./CoSEConstants":1,"./CoSEEdge":2,"./CoSEGraph":3,"./CoSEGraphManager":4,"./CoSELayout":5,"./CoSENode":6,"./DimensionD":7,"./FDLayout":9,"./FDLayoutConstants":10,"./FDLayoutEdge":11,"./FDLayoutNode":12,"./HashMap":13,"./HashSet":14,"./IGeometry":15,"./IMath":16,"./Integer":17,"./LEdge":18,"./LGraph":19,"./LGraphManager":20,"./LGraphObject":21,"./LNode":22,"./Layout":23,"./LayoutConstants":24,"./Point":25,"./PointD":26,"./RandomSeed":27,"./RectangleD":28,"./Transform":29,"./UniqueIDGeneretor":30}],32:[function(f,h,e){var g=f("./Layout");var i=function(j){var k=g(j);j("layout","cose-bilkent",k)};if(typeof cytoscape!=="undefined"){i(cytoscape)}h.exports=i},{"./Layout":31}]},{},[32])(32)});