(function webpackUniversalModuleDefinition(a,b){if(typeof exports==="object"&&typeof module==="object"){module.exports=b()}else{if(typeof define==="function"&&define.amd){define([],b)}else{if(typeof exports==="object"){exports.cytoscapeEuler=b()}else{a.cytoscapeEuler=b()}}}})(this,function(){return(function(a){var b={};function c(e){if(b[e]){return b[e].exports}var d=b[e]={i:e,l:false,exports:{}};a[e].call(d.exports,d,d.exports,c);d.l=true;return d.exports}c.m=a;c.c=b;c.i=function(d){return d};c.d=function(e,f,d){if(!c.o(e,f)){Object.defineProperty(e,f,{configurable:false,enumerable:true,get:d})}};c.n=function(e){var d=e&&e.__esModule?function f(){return e["default"]}:function g(){return e};c.d(d,"a",d);return d};c.o=function(d,e){return Object.prototype.hasOwnProperty.call(d,e)};c.p="";return c(c.s=11)})([(function(b,a,c){b.exports=Object.assign!=null?Object.assign.bind(Object):function(g){for(var d=arguments.length,f=Array(d>1?d-1:0),e=1;e<d;e++){f[e-1]=arguments[e]}f.forEach(function(h){Object.keys(h).forEach(function(i){return g[i]=h[i]})});return g}}),(function(e,c,g){var b=g(0);var f=Object.freeze({source:null,target:null,length:80,coeff:0.0002,weight:1});function d(h){return b({},f,h)}function a(m){var i=m.source,o=m.target,j=m.length<0?f.length:m.length,p=o.pos.x-i.pos.x,n=o.pos.y-i.pos.y,h=Math.sqrt(p*p+n*n);if(h===0){p=(Math.random()-0.5)/50;n=(Math.random()-0.5)/50;h=Math.sqrt(p*p+n*n)}var l=h-j;var k=(!m.coeff||m.coeff<0?f.springCoeff:m.coeff)*l/h*m.weight;i.force.x+=k*p;i.force.y+=k*n;o.force.x-=k*p;o.force.y-=k*n}e.exports={makeSpring:d,applySpring:a}}),(function(a,C,c){var w=function(){function E(I,G){for(var F=0;F<G.length;F++){var H=G[F];H.enumerable=H.enumerable||false;H.configurable=true;if("value" in H){H.writable=true}Object.defineProperty(I,H.key,H)}}return function(H,F,G){if(F){E(H.prototype,F)}if(G){E(H,G)}return H}}();function d(E,F){if(!(E instanceof F)){throw new TypeError("Cannot call a class as a function")}}function l(E,F){if(!E){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return F&&(typeof F==="object"||typeof F==="function")?F:E}function n(F,E){if(typeof E!=="function"&&E!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof E)}F.prototype=Object.create(E&&E.prototype,{constructor:{value:F,enumerable:false,writable:true,configurable:true}});if(E){Object.setPrototypeOf?Object.setPrototypeOf(F,E):F.__proto__=E}}var y=c(13);var u=c(0);var m=c(4);var A=c(10),j=A.tick;var s=c(7),e=s.makeQuadtree;var q=c(3),f=q.makeBody;var o=c(1),b=o.makeSpring;var v=function v(E){return typeof E==="function"};var B=function B(E){return E.isParent()};var p=function p(E){return !B(E)};var i=function i(E){return E.locked()};var t=function t(E){return !i(E)};var k=function k(E){return B(E.source())||B(E.target())};var x=function x(E){return !k(E)};var D=function D(E){return E.scratch("euler").body};var h=function h(E){return B(E)?E.descendants().filter(p):E};var g=function g(E){var F=E.scratch("euler");if(!F){F={};E.scratch("euler",F)}return F};var z=function z(E,F){if(v(E)){return E(F)}else{return E}};var r=function(H){n(G,H);function G(I){d(this,G);return l(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,u({},m,I)))}w(G,[{key:"prerun",value:function F(L){var K=L;K.quadtree=e();var I=K.bodies=[];K.nodes.filter(function(M){return p(M)}).forEach(function(O){var N=g(O);var M=f({pos:{x:N.x,y:N.y},mass:z(K.mass,O),locked:N.locked});M._cyNode=O;N.body=M;M._scratch=N;I.push(M)});var J=K.springs=[];K.edges.filter(x).forEach(function(O){var M=b({source:D(O.source()),target:D(O.target()),length:z(K.springLength,O),coeff:z(K.springCoeff,O)});M._cyEdge=O;var N=g(O);M._scratch=N;N.spring=M;J.push(M)});K.edges.filter(k).forEach(function(O){var N=h(O.source());var M=h(O.target());N=[N[0]];M=[M[0]];N.forEach(function(P){M.forEach(function(Q){J.push(b({source:D(P),target:D(Q),length:z(K.springLength,O),coeff:z(K.springCoeff,O)}))})})})}},{key:"tick",value:function E(K){var J=j(K);var I=J<=K.movementThreshold;return I}}]);return G}(y);a.exports=r}),(function(d,b,h){var g=Object.freeze({pos:{x:0,y:0},prevPos:{x:0,y:0},force:{x:0,y:0},velocity:{x:0,y:0},mass:1});var f=function f(i){return{x:i.x,y:i.y}};var a=function a(j,i){return j!=null?j:i};var c=function c(i,j){return f(a(i,j))};function e(j){var i={};i.pos=c(j.pos,g.pos);i.prevPos=c(j.prevPos,i.pos);i.force=c(j.force,g.force);i.velocity=c(j.velocity,g.velocity);i.mass=j.mass!=null?j.mass:g.mass;i.locked=j.locked;return i}d.exports={makeBody:e}}),(function(e,c,g){var f=Object.freeze({springLength:function a(h){return 80},springCoeff:function b(h){return 0.0008},mass:function d(h){return 4},gravity:-1.2,theta:0.666,dragCoeff:0.02,movementThreshold:1,timeStep:20});e.exports=f}),(function(b,a,e){var d=0.02;function c(g,f){var h=void 0;if(f!=null){h=f}else{if(g.dragCoeff!=null){h=g.dragCoeff}else{h=d}}g.force.x-=h*g.velocity.x;g.force.y-=h*g.velocity.y}b.exports={applyDrag:c}}),(function(c,b,d){function a(e,k){var r=0,h=0,q=0,f=0,g,o=e.length;if(o===0){return 0}for(g=0;g<o;++g){var l=e[g],j=k/l.mass;if(l.grabbed){continue}if(l.locked){l.velocity.x=0;l.velocity.y=0}else{l.velocity.x+=j*l.force.x;l.velocity.y+=j*l.force.y}var n=l.velocity.x,m=l.velocity.y,p=Math.sqrt(n*n+m*m);if(p>1){l.velocity.x=n/p;l.velocity.y=m/p}r=k*l.velocity.x;q=k*l.velocity.y;l.pos.x+=r;l.pos.y+=q;h+=Math.abs(r);f+=Math.abs(q)}return(h*h+f*f)/o}c.exports={integrate:a}}),(function(b,d,a){var e=a(9);var f=a(8);var i=function i(k){k.x=0;k.y=0};var c=function c(o,n){var k=1e-8;var m=Math.abs(o.x-n.x);var l=Math.abs(o.y-n.y);return m<k&&l<k};function j(){var n=[],l=new f(),k=[],p=0,o=r();function r(){var t=k[p];if(t){t.quad0=null;t.quad1=null;t.quad2=null;t.quad3=null;t.body=null;t.mass=t.massX=t.massY=0;t.left=t.right=t.top=t.bottom=0}else{t=new e();k[p]=t}++p;return t}function m(D,H,u){var C=n,F=void 0,J=void 0,I=void 0,t=void 0,A=0,x=0,z=1,E=0,y=1;C[0]=o;i(D.force);while(z){var w=C[E],B=w.body;z-=1;E+=1;var G=B!==D;if(B&&G){J=B.pos.x-D.pos.x;I=B.pos.y-D.pos.y;t=Math.sqrt(J*J+I*I);if(t===0){J=(Math.random()-0.5)/50;I=(Math.random()-0.5)/50;t=Math.sqrt(J*J+I*I)}F=H*B.mass*D.mass/(t*t*t);A+=F*J;x+=F*I}else{if(G){J=w.massX/w.mass-D.pos.x;I=w.massY/w.mass-D.pos.y;t=Math.sqrt(J*J+I*I);if(t===0){J=(Math.random()-0.5)/50;I=(Math.random()-0.5)/50;t=Math.sqrt(J*J+I*I)}if((w.right-w.left)/t<u){F=H*w.mass*D.mass/(t*t*t);A+=F*J;x+=F*I}else{if(w.quad0){C[y]=w.quad0;z+=1;y+=1}if(w.quad1){C[y]=w.quad1;z+=1;y+=1}if(w.quad2){C[y]=w.quad2;z+=1;y+=1}if(w.quad3){C[y]=w.quad3;z+=1;y+=1}}}}}D.force.x+=A;D.force.y+=x}function q(t){var v=Number.MAX_VALUE,C=Number.MAX_VALUE,u=Number.MIN_VALUE,A=Number.MIN_VALUE,w=void 0,B=t.length;w=B;while(w--){var D=t[w].pos.x;var z=t[w].pos.y;if(D<v){v=D}if(D>u){u=D}if(z<C){C=z}if(z>A){A=z}}var F=u-v,E=A-C;if(F>E){A=C+F}else{u=v+E}p=0;o=r();o.left=v;o.right=u;o.top=C;o.bottom=A;w=B-1;if(w>=0){o.body=t[w]}while(w--){s(t[w],o)}}function s(v){l.reset();l.push(o,v);while(!l.isEmpty()){var I=l.pop(),A=I.node,C=I.body;if(!A.body){var H=C.pos.x;var G=C.pos.y;A.mass=A.mass+C.mass;A.massX=A.massX+C.mass*H;A.massY=A.massY+C.mass*G;var E=0,z=A.left,J=(A.right+z)/2,F=A.top,t=(A.bottom+F)/2;if(H>J){E=E+1;z=J;J=A.right}if(G>t){E=E+2;F=t;t=A.bottom}var w=h(A,E);if(!w){w=r();w.left=z;w.top=F;w.right=J;w.bottom=t;w.body=C;g(A,E,w)}else{l.push(w,C)}}else{var D=A.body;A.body=null;if(c(D.pos,C.pos)){var u=3;do{var B=Math.random();var L=(A.right-A.left)*B;var K=(A.bottom-A.top)*B;D.pos.x=A.left+L;D.pos.y=A.top+K;u-=1}while(u>0&&c(D.pos,C.pos));if(u===0&&c(D.pos,C.pos)){return}}l.push(A,D);l.push(A,C)}}}return{insertBodies:q,updateBodyForce:m}}function h(l,k){if(k===0){return l.quad0}if(k===1){return l.quad1}if(k===2){return l.quad2}if(k===3){return l.quad3}return null}function g(l,k,m){if(k===0){l.quad0=m}else{if(k===1){l.quad1=m}else{if(k===2){l.quad2=m}else{if(k===3){l.quad3=m}}}}}b.exports={makeQuadtree:j}}),(function(b,c,a){b.exports=f;function f(){this.stack=[];this.popIdx=0}f.prototype={isEmpty:function d(){return this.popIdx===0},push:function g(l,j){var k=this.stack[this.popIdx];if(!k){this.stack[this.popIdx]=new i(l,j)}else{k.node=l;k.body=j}++this.popIdx},pop:function h(){if(this.popIdx>0){return this.stack[--this.popIdx]}},reset:function e(){this.popIdx=0}};function i(k,j){this.node=k;this.body=j}}),(function(c,a,d){c.exports=function b(){this.body=null;this.quad0=null;this.quad1=null;this.quad2=null;this.quad3=null;this.mass=0;this.massX=0;this.massY=0;this.left=0;this.top=0;this.bottom=0;this.right=0}}),(function(c,f,a){var d=a(6),e=d.integrate;var j=a(5),b=j.applyDrag;var i=a(1),h=i.applySpring;function g(r){var k=r.bodies,u=r.springs,o=r.quadtree,s=r.timeStep,w=r.gravity,m=r.theta,n=r.dragCoeff;k.forEach(function(x){var y=x._scratch;if(!y){return}if(y.grabbed){console.log("grabbed")}x.locked=y.locked;x.grabbed=y.grabbed;x.pos.x=y.x;x.pos.y=y.y});o.insertBodies(k);for(var q=0;q<k.length;q++){var t=k[q];o.updateBodyForce(t,w,m);b(t,n)}for(var p=0;p<u.length;p++){var v=u[p];h(v)}var l=e(k,s);k.forEach(function(x){var y=x._scratch;if(!y){return}y.x=x.pos.x;y.y=x.pos.y});return l}c.exports={tick:g}}),(function(c,a,e){var b=e(2);var d=function d(f){if(!f){return}f("layout","euler",b)};if(typeof cytoscape!=="undefined"){d(cytoscape)}c.exports=d}),(function(c,a,e){c.exports=Object.freeze({animate:true,refresh:10,maxIterations:1000,maxSimulationTime:4000,ungrabifyWhileSimulating:false,fit:true,padding:30,boundingBox:undefined,ready:function d(){},stop:function b(){},randomize:false,infinite:false})}),(function(d,g,c){var e=function(){function p(t,r){for(var q=0;q<r.length;q++){var s=r[q];s.enumerable=s.enumerable||false;s.configurable=true;if("value" in s){s.writable=true}Object.defineProperty(t,s.key,s)}}return function(s,q,r){if(q){p(s.prototype,q)}if(r){p(s,r)}return s}}();function h(p,q){if(!(p instanceof q)){throw new TypeError("Cannot call a class as a function")}}var o=c(0);var f=c(12);var i=c(14);var b=c(15),a=b.setInitialPositionState,j=b.refreshPositions,n=b.getNodePositionData;var m=c(16),k=m.multitick;var l=function(){function t(w){h(this,t);var y=this.options=o({},f,w);var x=this.state=o({},y,{layout:this,nodes:y.eles.nodes(),edges:y.eles.edges(),tickIndex:0,firstUpdate:true});x.animateEnd=y.animate&&y.animate==="end";x.animateContinuously=y.animate&&!x.animateEnd}e(t,[{key:"run",value:function v(){var z=this;var J=this.state;J.tickIndex=0;J.firstUpdate=true;J.running=true;J.currentBoundingBox=i(J.boundingBox,J.cy);if(J.ready){z.one("ready",J.ready)}if(J.stop){z.one("stop",J.stop)}J.nodes.forEach(function(K){return a(K,J)});z.prerun(J);if(J.animateContinuously){var H=function H(K){if(!J.ungrabifyWhileSimulating){return}var L=n(K,J).grabbable=K.grabbable();if(L){K.ungrabify()}};var w=function w(K){if(!J.ungrabifyWhileSimulating){return}var L=n(K,J).grabbable;if(L){K.grabify()}};var D=function D(K){return n(K,J).grabbed=K.grabbed()};var I=function I(K){var L=K.target;D(L)};var B=I;var y=function y(N){var L=N.target;var K=n(L,J);var M=L.position();K.x=M.x;K.y=M.y};var E=function E(K){K.on("grab",I);K.on("free",B);K.on("drag",y)};var C=function C(K){K.removeListener("grab",I);K.removeListener("free",B);K.removeListener("drag",y)};var F=function F(){if(J.fit&&J.animateContinuously){J.cy.fit(J.padding)}};var x=function x(){j(J.nodes,J);F();requestAnimationFrame(A)};var A=function A(){k(J,x,G)};var G=function G(){j(J.nodes,J);F();J.nodes.forEach(function(K){w(K);C(K)});J.running=false;z.emit("layoutstop")};J.startTime=Date.now();z.emit("layoutstart");J.nodes.forEach(function(K){H(K);E(K)});A()}else{k(J);J.eles.layoutPositions(this,J,function(K){return n(K,J)})}z.postrun(J);return this}},{key:"prerun",value:function s(){}},{key:"postrun",value:function u(){}},{key:"tick",value:function r(){}},{key:"stop",value:function q(){this.state.running=false;return this}},{key:"destroy",value:function p(){return this}}]);return t}();d.exports=l}),(function(b,a,c){b.exports=function(d,e){if(d==null){d={x1:0,y1:0,w:e.width(),h:e.height()}}else{d={x1:d.x1,x2:d.x2,y1:d.y1,y2:d.y2,w:d.w,h:d.h}}if(d.x2==null){d.x2=d.x1+d.w}if(d.w==null){d.w=d.x2-d.x1}if(d.y2==null){d.y2=d.y1+d.h}if(d.h==null){d.h=d.y2-d.y1}return d}}),(function(e,c,g){var b=g(0);var d=function d(h,j){var k=h.position();var l=j.currentBoundingBox;var i=h.scratch(j.name);if(i==null){i={};h.scratch(j.name,i)}b(i,j.randomize?{x:l.x1+Math.round(Math.random()*l.w),y:l.y1+Math.round(Math.random()*l.h)}:{x:k.x,y:k.y});i.locked=h.locked()};var a=function a(h,i){return h.scratch(i.name)};var f=function f(h,i){h.positions(function(j){var k=j.scratch(i.name);return{x:k.x,y:k.y}})};e.exports={setInitialPositionState:d,getNodePositionData:a,refreshPositions:f}}),(function(d,a,e){var f=function f(){};var c=function c(j){var i=j;var g=j.layout;var h=g.tick(i);if(i.firstUpdate){if(i.animateContinuously){i.layout.emit("layoutready")}i.firstUpdate=false}i.tickIndex++;var k=i.startTime-Date.now();return !i.infinite&&(h||i.tickIndex>=i.maxIterations||k>=i.maxSimulationTime)};var b=function b(l){var k=arguments.length>1&&arguments[1]!==undefined?arguments[1]:f;var m=arguments.length>2&&arguments[2]!==undefined?arguments[2]:f;var g=false;var j=l;for(var h=0;h<j.maxIterations;h++){g=!j.running||c(j);if(g){break}}if(!g){k()}else{m()}};d.exports={tick:c,multitick:b}})])});