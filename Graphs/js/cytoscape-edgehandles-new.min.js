(function webpackUniversalModuleDefinition(a,b){if(typeof exports==="object"&&typeof module==="object"){module.exports=b()}else{if(typeof define==="function"&&define.amd){define([],b)}else{if(typeof exports==="object"){exports.cytoscapeEdgehandles=b()}else{a.cytoscapeEdgehandles=b()}}}})(this,function(){return(function(a){var b={};function c(e){if(b[e]){return b[e].exports}var d=b[e]={i:e,l:false,exports:{}};a[e].call(d.exports,d,d.exports,c);d.l=true;return d.exports}c.m=a;c.c=b;c.i=function(d){return d};c.d=function(e,f,d){if(!c.o(e,f)){Object.defineProperty(e,f,{configurable:false,enumerable:true,get:d})}};c.n=function(e){var d=e&&e.__esModule?function f(){return e["default"]}:function g(){return e};c.d(d,"a",d);return d};c.o=function(d,e){return Object.prototype.hasOwnProperty.call(d,e)};c.p="";return c(c.s=11)})([(function(b,a,c){b.exports=Object.assign!=null?Object.assign.bind(Object):function(g){for(var d=arguments.length,f=Array(d>1?d-1:0),e=1;e<d;e++){f[e-1]=arguments[e]}f.forEach(function(h){Object.keys(h).forEach(function(i){return g[i]=h[i]})});return g}}),(function(c,b,e){var d=e(9);var a=e(0);c.exports=function(f){var g=this;return new d(a({cy:g},f))}}),(function(b,a,e){function f(){this.saveGestureState();this.cy.zoomingEnabled(false).panningEnabled(false).boxSelectionEnabled(false);return this}function d(){this.cy.zoomingEnabled(this.lastZoomingEnabled).panningEnabled(this.lastPanningEnabled).boxSelectionEnabled(this.lastBoxSelectionEnabled);return this}function c(){var g=this.cy;this.lastPanningEnabled=g.panningEnabled();this.lastZoomingEnabled=g.zoomingEnabled();this.lastBoxSelectionEnabled=g.boxSelectionEnabled();return this}b.exports={disableGestures:f,resetGestures:d,saveGestureState:c}}),(function(b,a,c){function d(){var f=this;var e=this.cy;this.addListener(e,"drag",function(){return f.grabbingNode=true});this.addListener(e,"free",function(){return f.grabbingNode=false});this.addListener(e,"mouseover","node",function(g){f.show(g.target)});this.addListener(e,"tap","node",function(h){var g=h.target;if(g.same(f.handleNode)){f.hide()}else{f.show(g)}});this.addListener(e,"position","node",function(g){if(g.target.same(f.sourceNode)){f.hide()}});this.addListener(e,"tapstart","node",function(h){var g=h.target;if(g.same(f.handleNode)){f.start(f.sourceNode)}else{if(f.drawMode){f.start(g)}else{if(g.same(f.sourceNode)){f.hide()}}}});this.addListener(e,"tapdrag",function(g){f.update(g.position)});this.addListener(e,"tapdragover","node",function(g){f.preview(g.target)});this.addListener(e,"tapdragout","node",function(g){f.unpreview(g.target)});this.addListener(e,"tapend",function(){f.stop()});return this}b.exports={addCytoscapeListeners:d}}),(function(a,t,b){var j={preview:true,hoverDelay:150,handleNodes:"node",handlePosition:"middle top",handleInDrawMode:false,edgeType:function h(u,v){return"flat"},loopAllowed:function e(u){return false},nodeLoopOffset:-50,nodeParams:function o(u,v){return{}},edgeParams:function n(v,w,u){return{}},show:function s(u){},hide:function k(u){},start:function d(u){},complete:function l(u,w,v){},stop:function p(u){},cancel:function c(u,v){},hoverover:function g(u,v){},hoverout:function i(u,v){},previewon:function r(u,w,v){},previewoff:function q(u,w,v){},drawon:function f(){},drawoff:function m(){}};a.exports=j}),(function(d,b,f){function a(g){var i=this.cy,h=this.options;this.drawMode=g!=null?g:!this.drawMode;if(this.drawMode){this.prevUngrabifyState=i.autoungrabify();i.autoungrabify(true);if(!h.handleInDrawMode&&this.handleShown()){this.hide()}this.emit("drawon")}else{i.autoungrabify(this.prevUngrabifyState);this.emit("drawoff")}return this}function c(){return this.toggleDrawMode(true)}function e(){return this.toggleDrawMode(false)}d.exports={toggleDrawMode:a,enableDrawMode:c,disableDrawMode:e}}),(function(b,e,a){var m=a(0);function h(o,n){if(o.classes){o.classes+=" "+n}else{o.classes=n}return o}function j(){var u=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var r=this.cy,E=this.options,o=this.presumptiveTargets,D=this.previewEles;var n=this.sourceNode;var v=this.targetNode;var s=u?"eh-preview":"";var w=r.collection();if(u&&!E.preview){return}if(!v||v.size()===0){D.remove();this.emit("cancel",this.mp(),[n,o,r.collection()]);return}if(!u&&E.preview){D.removeClass("eh-preview");this.emit("complete",this.mp(),[n,v,D]);return}var C=n.position();var A=v.position();var q=void 0;if(n.same(v)){q={x:C.x+E.nodeLoopOffset,y:C.y+E.nodeLoopOffset}}else{q={x:(C.x+A.x)/2,y:(C.y+A.y)/2}}var B=E.edgeType(n,v);if(B==="node"){var t=r.add(h(m({group:"nodes",position:q},E.nodeParams(n,v)),s));var z=r.add(h(m({group:"edges",data:{source:n.id(),target:t.id()}},E.edgeParams(n,v,0)),s));var y=r.add(h(m({group:"edges",data:{source:t.id(),target:v.id()}},E.edgeParams(n,v,1)),s));w=w.merge(t).merge(z).merge(y)}else{var x=r.add(h(m({group:"edges",data:{source:n.id(),target:v.id()}},E.edgeParams(n,v,0)),s));w=w.merge(x)}if(u){this.previewEles=w}else{this.emit("complete",this.mp(),[n,v,w])}return this}function i(){this.makeEdges(true);return this}function l(){return this.previewEles.nonempty()&&this.previewEles.inside()}function c(){if(this.previewShown()){this.previewEles.remove()}return this}function d(){return this.handleNode.nonempty()&&this.handleNode.inside()}function g(){this.handleNode.remove();return this}function k(s){var C=this.options,u=this.cy;var n=s.position();var v=s.outerHeight();var B=s.outerWidth();var t=0;var q=0;var z=C.handlePosition.toLowerCase().split(" ");var r=z[0];var o=z[1];if(r==="left"){t=-(B/2)}else{if(r==="right"){t=B/2}}if(o==="top"){q=-(v/2)}else{if(o==="bottom"){q=v/2}}var y=this.hx=n.x+t;var x=this.hy=n.y+q;var A={x:y,y:x};if(this.handleShown()){this.handleNode.position(A)}else{this.handleNode=u.add({classes:"eh-handle",position:A,grabbable:false,style:{"z-index":9007199254740991}})}return this}function f(){var o=this.sourceNode,v=this.ghostNode,n=this.cy,t=this.mx,s=this.my;var r=t;var q=s;var u=void 0,p=void 0;if(!o){return}if(!v||v.length===0||v.removed()){p=this.ghostEles=n.collection();v=this.ghostNode=n.add({group:"nodes",classes:"eh-ghost eh-ghost-node",css:{"background-color":"blue",width:0.0001,height:0.0001,opacity:0,events:"no"},position:{x:0,y:0}});u=n.add({group:"edges",classes:"eh-ghost eh-ghost-edge",data:{source:o.id(),target:v.id()},css:{events:"no"}});p.merge(v).merge(u)}v.position({x:r,y:q});return this}b.exports={makeEdges:j,makePreview:i,removePreview:c,previewShown:l,updateEdge:f,handleShown:d,setHandleFor:k,removeHandle:g}}),(function(d,a,e){function c(){this.enabled=true;this.emit("enable");return this}function b(){this.enabled=false;this.emit("disable");return this}d.exports={enable:c,disable:b}}),(function(d,g,c){function e(r){var z=this.options,y=this.previewEles,v=this.ghostEles,n=this.handleNode;var o=function o(A){return y.anySame(A)};var x=function x(A){return v.anySame(A)};var w=function w(A){return A.filter(z.handleNodes).length>0};var p=function p(A){return n.same(A)};var t=function t(A){return o(A)||p(A)||x(A)};var u=this.enabled,s=this.active,q=this.grabbingNode;return u&&!s&&!q&&(r==null||!t(r)&&w(r))}function b(n){return this.canStartOn(n)&&this.drawMode}function l(n){return this.canStartOn(n)&&!this.drawMode}function m(o){var n=this.options,p=this.drawMode;if(!this.canStartOn(o)||p&&!n.handleInDrawMode){return}this.sourceNode=o;this.setHandleFor(o);this.emit("show",this.hp());return this}function i(){var n=this.cy;this.removeHandle();this.sourceNode=n.collection();this.emit("hide",this.hp());return this}function a(n){if(!this.canStartOn(n)){return}this.active=true;this.sourceNode=n;this.sourceNode.addClass("eh-source");this.disableGestures();this.emit("start",this.hp())}function f(o){if(!this.active){return}var n=o;this.mx=n.x;this.my=n.y;this.updateEdge();return this}function j(s){var u=this;if(!this.active||s.same(this.handleNode)){return}var o=this.options,p=this.sourceNode,t=this.ghostNode,n=this.presumptiveTargets,r=this.previewEles;var q=p;clearTimeout(this.previewTimeout);this.previewTimeout=setTimeout(function(){var w=s.same(q);var x=o.loopAllowed(s);var y=s.same(t);var v=o.edgeType(q,s)==null;u.targetNode=s;n.merge(s);s.addClass("eh-presumptive-target");if(y||v){return}if(!w||w&&x){s.addClass("eh-target");u.emit("hoverover",u.mp(),[q,s]);if(o.preview){s.addClass("eh-preview");u.makePreview();u.emit("previewon",u.mp(),[q,s,r])}}},o.hoverDelay);return this}function h(r){if(!this.active||r.same(this.handleNode)){return}var n=this.previewTimeout,o=this.sourceNode,q=this.previewEles;clearTimeout(n);this.previewTimeout=null;var p=o;r.removeClass("eh-preview eh-target eh-presumptive-target");this.removePreview(p,r);this.emit("hoverout",this.mp(),[p,r]);this.emit("previewoff",this.mp(),[p,r,q]);return this}function k(){if(!this.active){return}var q=this.sourceNode,r=this.targetNode,o=this.handleNode,p=this.ghostEles,n=this.presumptiveTargets;this.active=false;this.makeEdges();q.removeClass("eh-source");r.removeClass("eh-target eh-preview eh-hover");n.removeClass("eh-presumptive-target");o.remove();p.remove();this.clearCollections();this.resetGestures();this.emit("stop",this.mp(),[q,r]);return this}d.exports={show:m,hide:i,start:a,update:f,preview:j,unpreview:h,stop:k,canStartOn:e,canStartDrawModeOn:b,canStartNonDrawModeOn:l}}),(function(c,g,b){var f=b(4);var o=b(0);var i=b(2);var l=b(3);var a=b(5);var n=b(6);var j=b(7);var e=b(8);var m=b(10);function d(p){var q=p.cy;this.cy=q;this.listeners=[];this.enabled=true;this.drawMode=false;this.active=false;this.grabbingNode=false;this.handleNode=q.collection();this.clearCollections();this.hx=0;this.hy=0;this.hr=0;this.mx=0;this.my=0;this.options=o({},f,p);this.saveGestureState();this.addListeners()}var h=d.prototype={};var k=function k(p){return o(h,p)};h.destroy=function(){this.removeListeners()};h.setOptions=function(p){o(this.options,p)};h.mp=function(){return{x:this.mx,y:this.my}};h.hp=function(){return{x:this.hx,y:this.hy}};h.clearCollections=function(){var p=this.cy;this.previewEles=p.collection();this.ghostEles=p.collection();this.ghostNode=p.collection();this.sourceNode=p.collection();this.targetNode=p.collection();this.presumptiveTargets=p.collection()};[i,l,a,n,j,e,m].forEach(k);c.exports=d}),(function(c,f,b){var d=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol==="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};function i(){var l=this;this.addCytoscapeListeners();this.addListener(this.cy,"destroy",function(){return l.destroy()});return this}function h(){for(var n=this.listeners.length-1;n>=0;n--){var m=this.listeners[n];this.removeListener(m.target,m.event,m.selector,m.callback,m.options)}return this}function j(o,n,l,p,m){if((typeof l==="undefined"?"undefined":d(l))!==d("")){p=l;m=p;l=null}if(m==null){m=false}return{target:o,event:n,selector:l,callback:p,options:m}}function e(l){return l instanceof Element}function a(q,p,m,r,o){var n=j(q,p,m,r,o);this.listeners.push(n);if(e(n.target)){n.target.addEventListener(n.event,n.callback,n.options)}else{if(n.selector){n.target.addListener(n.event,n.selector,n.callback,n.options)}else{n.target.addListener(n.event,n.callback,n.options)}}return this}function g(s,r,n,t,p){var o=j(s,r,n,t,p);for(var q=this.listeners.length-1;q>=0;q--){var m=this.listeners[q];if(o.target===m.target&&o.event===m.event&&(o.selector==null||o.selector===m.selector)&&(o.callback==null||o.callback===m.callback)){this.listeners.splice(q,1);if(e(o.target)){o.target.removeEventListener(o.event,o.callback,o.options)}else{if(o.selector){o.target.removeListener(o.event,o.selector,o.callback,o.options)}else{o.target.removeListener(o.event,o.callback,o.options)}}break}}return this}function k(q,l){var o=this.options,r=this.cy;for(var m=arguments.length,n=Array(m>2?m-2:0),p=2;p<m;p++){n[p-2]=arguments[p]}r.emit({type:q,position:l},n);o[q].apply(o,n);return this}c.exports={addListener:a,addListeners:i,removeListener:g,removeListeners:h,emit:k}}),(function(c,b,e){var a=e(1);var d=function d(f){if(!f){return}f("core","edgehandles",a)};if(typeof cytoscape!=="undefined"){d(cytoscape)}c.exports=d})])});